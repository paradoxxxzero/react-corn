import{r as l}from"./index-f1f749bf.js";var I={},ve={get exports(){return I},set exports(n){I=n}},L={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ye=l,de=Symbol.for("react.element"),be=Symbol.for("react.fragment"),he=Object.prototype.hasOwnProperty,ge=ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ce={key:!0,ref:!0,__self:!0,__source:!0};function ee(n,e,r){var t,a={},o=null,u=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(u=e.ref);for(t in e)he.call(e,t)&&!Ce.hasOwnProperty(t)&&(a[t]=e[t]);if(n&&n.defaultProps)for(t in e=n.defaultProps,e)a[t]===void 0&&(a[t]=e[t]);return{$$typeof:de,type:n,key:o,ref:u,props:a,_owner:ge.current}}L.Fragment=be;L.jsx=ee;L.jsxs=ee;(function(n){n.exports=L})(ve);const $e=I.Fragment,ze=I.jsx,Ke=I.jsxs;function Ee(n,e){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var t,a,o,u,s=[],d=!0,b=!1;try{if(o=(r=r.call(n)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(t=o.call(r)).done)&&(s.push(t.value),s.length!==e);d=!0);}catch(c){b=!0,a=c}finally{try{if(!d&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(b)throw a}}return s}}function Q(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),r.push.apply(r,t)}return r}function p(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q(Object(r),!0).forEach(function(t){B(n,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))})}return n}function _(n){return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(n)}function B(n,e,r){return e=F(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function v(){return v=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},v.apply(this,arguments)}function Oe(n,e){if(n==null)return{};var r={},t=Object.keys(n),a,o;for(o=0;o<t.length;o++)a=t[o],!(e.indexOf(a)>=0)&&(r[a]=n[a]);return r}function P(n,e){if(n==null)return{};var r=Oe(n,e),t,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)t=o[a],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function S(n,e){return re(n)||Ee(n,e)||$(n,e)||te()}function Re(n){return re(n)||ne(n)||$(n)||te()}function M(n){return je(n)||ne(n)||$(n)||ke()}function je(n){if(Array.isArray(n))return H(n)}function re(n){if(Array.isArray(n))return n}function ne(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function $(n,e){if(n){if(typeof n=="string")return H(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H(n,e)}}function H(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function ke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Se(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var t=r.call(n,e||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function F(n){var e=Se(n,"string");return typeof e=="symbol"?e:String(e)}var ae=function(e){var r=l.useMemo(function(){return Array.isArray(e)?e.map(function(t){return Array.isArray(t)?t:[t,t]}):Object.entries(e||{})},[e]);return r},oe=function(e,r){var t=l.useMemo(function(){return!e&&Array.isArray(r)?r.length?r[0]:"":e&&!Array.isArray(r)?r!=null&&r!==""?[r]:[]:r},[e,r]);return t},Pe=function(){},xe="/--/",we=function(e,r,t){var a=l.useMemo(function(){var o;return o={name:"".concat(e,"-corn-control")},B(o,t?"checked":"value",t?!!r:Array.isArray(r)?r.join(xe):r==null?"":_(r)==="object"?Object.keys(r).length?JSON.stringify(r):"":r),B(o,"onChange",Pe),o},[t,e,r]);return a},Ae=["name","value","type","modified","error","customError","plant","unplant","onChange","onError","onBlur"],z=function(n){var e=n.name,r=n.value,t=n.type;n.modified,n.error;var a=n.customError,o=n.plant,u=n.unplant,s=n.onChange,d=n.onError,b=n.onBlur,c=P(n,Ae),i=l.useRef();l.useEffect(function(){return o(e),function(){u(e)}},[e,o,u]);var m=l.useCallback(function(h){return s(e,h.target[["radio","checkbox"].includes(t)?"checked":"value"])},[e,s,t]),y=l.useCallback(function(){return b(e,r)},[e,r,b]);return l.useEffect(function(){i.current&&(i.current.setCustomValidity(a||""),d(e,i.current.checkValidity()?null:i.current.validationMessage))},[e,a,d,r,c.required,c.minLength,c.maxLength,c.min,c.max,c.type,c.pattern]),p({ref:i,name:e,value:r,type:t,onChange:m,onBlur:y},c)},Te=["Component"],_e=["onChange"],De=["precision","onChange","onBlur"],Ie=["choices","multiple"],Be=["choices","multiple","Root"],Me=["ref"],g=l.memo(function(e){var r=e.Component,t=r===void 0?"input":r,a=P(e,Te),o=z(a);return["checkbox","radio"].includes(o.type)&&(o.checked=!!o.value,delete o.value),React.createElement(t,o)}),qe=function(e){return React.createElement(g,v({type:"checkbox"},e))},Je=function(e){return React.createElement(g,v({type:"color"},e))},Ye=function(e){return React.createElement(g,v({type:"date"},e))},Ge=function(e){return React.createElement(g,v({type:"datetime-local"},e))},Qe=function(e){var r=l.useCallback(function(t){t.key===" "&&t.preventDefault()},[]);return React.createElement(g,v({type:"email",onKeyDown:r},e))},Xe=function(e){return React.createElement(g,v({type:"file"},e))},Ze=function(e){return React.createElement(g,v({type:"hidden"},e))},er=function(e){return React.createElement(g,v({type:"month"},e))},rr=function(e){return React.createElement(g,v({type:"password"},e))},nr=function(e){return React.createElement(g,v({type:"radio"},e))},tr=function(e){return React.createElement(g,v({type:"range"},e))},ar=function(e){return React.createElement(g,v({type:"search"},e))},or=function(e){return React.createElement(g,v({type:"tel"},e))},ur=function(e){return React.createElement(g,v({type:"text"},e))},ir=function(e){return React.createElement(g,v({type:"time"},e))},lr=function(e){return React.createElement(g,v({type:"url"},e))},cr=function(e){return React.createElement(g,v({type:"week"},e))},sr=function(e){var r=e.onChange,t=P(e,_e),a=l.useCallback(function(o,u){return r(o,isNaN(parseFloat(u))?null:parseFloat(u))},[r]);return React.createElement(g,v({type:"number",onChange:a},t))},fr=function(e){var r=e.precision,t=r===void 0?2:r,a=e.onChange,o=e.onBlur,u=P(e,De),s=!t&&t!==0?u.i18n.money.precision:t;u.min||(u.min=0);var d=l.useCallback(function(c,i){return a(c,i&&i.includes("e")?parseFloat(i).toFixed(s):i)},[a,s]),b=l.useCallback(function(c,i){var m=i||null;if(i&&i.includes(".")&&!M(i).every(function(h){return"0.".includes(h)})){var y=i.split(".")[1].length;y>t?m=i.slice(0,t-y):y<t&&(m=i+"0".repeat(t-y))}o(c,m)},[o,t]);return React.createElement(g,v({type:"number",onChange:d,onBlur:b,step:s===0?1:"0.".concat("0".repeat(s-1),"1")},u))},pr=function(e){return React.createElement(g,v({Component:"textarea"},e))},mr=l.memo(function(e){var r=e.choices,t=e.multiple,a=P(e,Ie),o=a.onChange,u=z(a),s=u.name,d=u.value,b=ae(r),c=oe(t,d),i=l.useCallback(function(m){o(s,t?M(m.target.options).filter(function(y){return y.selected}).map(function(y){return y.value}):m.target.value)},[s,o,t]);return React.createElement("select",v({},u,{multiple:t,onChange:i,value:c}),!t&&b.every(function(m){var y=S(m,1),h=y[0];return h})&&React.createElement("option",{value:""}),b.map(function(m){var y=S(m,2),h=y[0],w=y[1];return React.createElement("option",{key:w,value:w},h)}))}),vr=l.memo(function(e){var r=e.choices,t=e.multiple,a=e.Root,o=a===void 0?"fieldset":a,u=P(e,Be),s=u.onChange,d=z(u),b=d.ref,c=P(d,Me),i=c.name,m=c.value,y=ae(r),h=oe(t,m),w=we(i,m),O=l.useCallback(function(j){var x=j.target.dataset.key;s(i,t?j.target.checked?[].concat(M(h),[x]):h.filter(function(D){return D!==x}):x)},[s,i,t,h]),W=t?"checkbox":"radio";return React.createElement(o,null,y.map(function(j){var x=S(j,2),D=x[0],A=x[1];return React.createElement("label",{key:A},React.createElement("input",{type:W,checked:t?h.includes(A):A===h,onChange:O,"data-key":A}),D)}),React.createElement("input",v({},c,{ref:b,style:{opacity:0,position:"absolute",zIndex:-1}},w)))}),Fe=function(e){return e??""},X=function(e){return e===""?null:e},N=function(e,r){return Fe(r.includes(".")?r.split(".").reduce(function(t,a){return t&&t[a]},e):e[r])},Z=function n(e,r,t){if(r.includes(".")){var a=r.split("."),o=Re(a),u=o[0],s=o.slice(1);e[u]||(e[u]={}),n(e[u],s.join("."),t)}else e[r]=t},Ne=function(e){for(var r=Object.keys(e),t=new Array(r.length),a=0;a<r.length;a++){var o=r[a],u=e[o];_(u)!=="object"||u===null?t[o]=u:u instanceof Date?t[o]=new Date(u):t[o]=ue(u)}return t},ue=function n(e){if(_(e)!=="object"||e===null)return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return Ne(e);var r={};for(var t in e)if(Object.hasOwnProperty.call(e,t)!==!1){var a=e[t];_(a)!=="object"||a===null?r[t]=a:a instanceof Date?r[t]=new Date(a):r[t]=n(a)}return r},T=function(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!Object.keys(r).length)return e;if(t){var a={};return t.forEach(function(u){Z(a,u,X(Object.keys(r).includes(u)?r[u]:N(e,u)))}),a}var o=ue(e);return Object.entries(r).forEach(function(u){var s=S(u,2),d=s[0],b=s[1];return Z(o,d,X(b))}),o},Le=function(e){return e&&e.trim?e.trim():e},We=function(e){return e&&e.then!==void 0},Ue=function(e,r){var t,a;switch(r.type){case"change":if(r.value===r.itemValue){if(Object.keys(e.transient).includes(r.name)){var o=e.transient,u=r.name;o[u],t=P(o,[u].map(F))}else t=e.transient;return p(p({},e),{},{transient:t})}return p(p({},e),{},{transient:p(p({},e.transient),{},B({},r.name,r.value)),lastChangeReason:r.reason});case"plant":return p(p({},e),{},{names:[].concat(M(e.names),[r.name])});case"unplant":var s=e.transient,d=r.name;s[d],t=P(s,[d].map(F));var b=e.errors,c=r.name;return b[c],a=P(b,[c].map(F)),p(p({},e),{},{transient:t,names:e.names.filter(function(i){return i!==r.name}),touched:e.touched.filter(function(i){return i!==r.name}),errors:a});case"submit":return r.result===null||r.result===void 0||r.result===!0?p(p({},e),{},{transient:{},touched:[]}):_(r.result)==="object"?p(p({},e),{},{errors:p(p({},e.errors),Object.fromEntries(Object.entries(r.result).filter(function(i){var m=S(i,1),y=m[0];return e.names.includes(y)})))}):e;case"reset":return p(p({},e),{},{transient:{},touched:[]});case"error":return e.errors[r.name]!==r.error?p(p({},e),{},{errors:p(p({},e.errors),{},B({},r.name,r.error))}):e;case"blur":return e.touched.includes(r.name)?e:p(p({},e),{},{touched:[].concat(M(e.touched),[r.name])});default:throw new Error}},Ve={},yr=function(n){var e=n.item,r=e===void 0?Ve:e,t=n.onChange,a=n.onBlur,o=n.onSubmit,u=n.method,s=u===void 0?"POST":u,d=l.useReducer(Ue,{transient:{},errors:{},touched:[],names:[],lastChangeReason:null}),b=S(d,2),c=b[0],i=c.transient,m=c.errors,y=c.touched,h=c.names,w=c.lastChangeReason,O=b[1],W=!!Object.keys(i).length,j=l.useMemo(function(){return T(r,i,h)},[r,i,h]),x=l.useCallback(function(f){if(f.preventDefault(),Object.values(m).some(function(E){return E})){window.alert("Please fix errors in the following fields: ".concat(Object.entries(m).filter(function(E){var R=S(E,2);R[0];var k=R[1];return k}).map(function(E){var R=S(E,1),k=R[0];return k}).join(", ")));return}var C=o==null?void 0:o(T(r,i),T({},i),j,h);return We(C)?new Promise(function(E,R){C.then(function(k){O({type:"submit",result:k}),E()}).catch(R)}):(O({type:"submit",result:C}),Promise.resolve())},[m,i,o,r,j,h]);l.useEffect(function(){if(t||a&&w==="blur"){var f=T(r,i),C=T({},i),E=T({},Object.fromEntries(Object.entries(m).filter(function(R){var k=S(R,2),U=k[1];return U})));t&&t(f,C,E,h),a&&w==="blur"&&a(f,C,E,h)}},[i,m]);var D=l.useCallback(function(f){O({type:"plant",name:f})},[]),A=l.useCallback(function(f){O({type:"unplant",name:f})},[]),K=l.useCallback(function(f,C){O({type:"change",name:f,value:C,itemValue:N(r,f),reason:"change"})},[r]),q=l.useCallback(function(f,C){O({type:"blur",name:f});var E=Le(C);O({type:"change",name:f,value:E,itemValue:N(r,f),reason:"blur"})},[r]),J=l.useCallback(function(f,C){O({type:"error",name:f,error:C})},[]),ie=l.useCallback(function(f,C,E){C&&typeof C!="function"&&!E&&(E=C,C=null);var R=Object.keys(i).includes(f),k=R?i[f]:N(r,f),U=y.includes(f)?m[f]:null,se=Object.entries(E||{}).reduce(function(Y,pe){var G=S(pe,2),me=G[0],V=G[1];return Y[me]=typeof V=="function"?V(j):V,Y},{}),fe=C&&C(k,j,f);return p({name:f,value:k,modified:R,error:U,customError:fe,plant:D,unplant:A,onChange:K,onError:J,onBlur:q},se)},[i,r,y,m,j,D,A,K,J,q]),le=l.useCallback(function(f){return f(T(r,i))},[r,i]),ce=l.useCallback(function(){O({type:"reset"})},[]);return l.useEffect(function(){O({type:"reset"})},[r]),{form:{method:s,onSubmit:x},field:ie,current:le,modified:W,onReset:ce}};export{qe as C,Ye as D,Qe as E,Xe as F,Ze as H,g as I,fr as M,sr as N,vr as P,nr as R,ar as S,or as T,lr as U,cr as W,ze as a,Je as b,Ge as c,er as d,tr as e,mr as f,ur as g,pr as h,ir as i,Ke as j,rr as k,z as l,ae as m,oe as n,we as o,$e as p,yr as u};
//# sourceMappingURL=bundle.esm-866780ab.js.map
