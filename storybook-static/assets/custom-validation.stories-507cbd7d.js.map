{"version":3,"file":"custom-validation.stories-507cbd7d.js","sources":["../../stories/overview/custom-validation.stories.jsx"],"sourcesContent":["/* eslint-disable jsx-a11y/label-has-associated-control */\nimport { useCorn } from '@react-corn/core';\nimport { ButtonRow, Number } from '@react-corn/simple';\nimport { memo, useCallback } from 'react';\nimport { Story } from '../helpers/Story';\nexport default {\n  title: 'Overview/custom-validation',\n  parameters: {\n    options: {\n      showPanel: true\n    }\n  }\n};\nconst isPrime = n => ![...Array(n).keys()].slice(2).map(i => !(n % i)).includes(true) && ![0, 1].includes(n);\nconst CornForm = memo(({\n  item,\n  onItem,\n  onTransient,\n  onDelta,\n  onErrors\n}) => {\n  const handleChange = useCallback((transient, delta, errors) => {\n    onTransient(transient);\n    onErrors(errors);\n  }, [onErrors, onTransient]);\n  const handleSubmit = useCallback((item, delta) => {\n    onItem(item);\n    onDelta(delta);\n  }, [onDelta, onItem]);\n  const {\n    form,\n    field,\n    modified,\n    onReset\n  } = useCorn({\n    item,\n    onChange: handleChange,\n    onSubmit: handleSubmit\n  });\n  return <form {...form}>\n      <Number required min={0} max={1000} {...field('prime', v => !isPrime(v) && `${v} is not a prime number`)}>\n        Prime number\n      </Number>\n      <Number min={0} max={1000} {...field('bigger', (bigger, {\n      prime\n    }) => window.Number.isInteger(bigger) && prime >= bigger && `${bigger} is not bigger than a ${prime}`)}>\n        Bigger number\n      </Number>\n\n      <ButtonRow>\n        <button disabled={!modified}>Submit</button>\n        <button type=\"button\" disabled={!modified} onClick={onReset}>\n          Reset\n        </button>\n      </ButtonRow>\n    </form>;\n});\nexport const CornStory = () => {\n  return <Story Chapter={CornForm} />;\n};\nCornStory.parameters = {\n  ...CornStory.parameters,\n  docs: {\n    ...CornStory.parameters?.docs,\n    source: {\n      originalSource: \"() => {\\n  return <Story Chapter={CornForm} />;\\n}\",\n      ...CornStory.parameters?.docs?.source\n    }\n  }\n};"],"names":["customValidation_stories","isPrime","n","i","CornForm","memo","item","onItem","onTransient","onDelta","onErrors","handleChange","useCallback","transient","delta","errors","handleSubmit","form","field","modified","onReset","useCorn","jsxs","jsx","Number","v","bigger","prime","ButtonRow","CornStory","Story","_a","_c","_b"],"mappings":"sXAKA,MAAeA,EAAA,CACb,MAAO,6BACP,WAAY,CACV,QAAS,CACP,UAAW,EACb,CACF,CACF,EACMC,EAAUC,GAAK,CAAC,CAAC,GAAG,MAAMA,CAAC,EAAE,KAAM,CAAA,EAAE,MAAM,CAAC,EAAE,IAAIC,GAAK,EAAED,EAAIC,EAAE,EAAE,SAAS,EAAI,GAAK,CAAC,CAAC,EAAG,CAAC,EAAE,SAASD,CAAC,EACrGE,EAAWC,OAAK,CAAC,CACrB,KAAAC,EACA,OAAAC,EACA,YAAAC,EACA,QAAAC,EACA,SAAAC,CACF,IAAM,CACJ,MAAMC,EAAeC,EAAA,YAAY,CAACC,EAAWC,EAAOC,IAAW,CAC7DP,EAAYK,CAAS,EACrBH,EAASK,CAAM,CAAA,EACd,CAACL,EAAUF,CAAW,CAAC,EACpBQ,EAAeJ,EAAAA,YAAY,CAACN,EAAMQ,IAAU,CAChDP,EAAOD,CAAI,EACXG,EAAQK,CAAK,CAAA,EACZ,CAACL,EAASF,CAAM,CAAC,EACd,CACJ,KAAAU,EACA,MAAAC,EACA,SAAAC,EACA,QAAAC,GACEC,EAAQ,CACV,KAAAf,EACA,SAAUK,EACV,SAAUK,CAAA,CACX,EACM,OAAAM,EAAC,OAAM,CAAA,GAAGL,EACb,SAAA,CAAAM,EAACC,GAAO,SAAQ,GAAC,IAAK,EAAG,IAAK,IAAO,GAAGN,EAAM,QAASO,GAAK,CAACxB,EAAQwB,CAAC,GAAK,GAAGA,yBAAyB,EAAG,SAE1G,eAAA,EACAF,EAACC,EAAO,CAAA,IAAK,EAAG,IAAK,IAAO,GAAGN,EAAM,SAAU,CAACQ,EAAQ,CACxD,MAAAC,CAAA,IACI,OAAO,OAAO,UAAUD,CAAM,GAAKC,GAASD,GAAU,GAAGA,0BAA+BC,GAAO,EAAG,SAEtG,gBAAA,IAECC,EACC,CAAA,SAAA,CAAAL,EAAC,SAAO,CAAA,SAAU,CAACJ,EAAU,SAAM,SAAA,EACnCI,EAAC,UAAO,KAAK,SAAS,SAAU,CAACJ,EAAU,QAASC,EAAS,SAE7D,OAAA,CAAA,CAAA,EACF,CACF,CAAA,CAAA,CACJ,CAAC,EACYS,EAAY,IAChBN,EAACO,EAAM,CAAA,QAAS1B,CAAU,CAAA,YAEnCyB,EAAU,WAAa,CACrB,GAAGA,EAAU,WACb,KAAM,CACJ,IAAGE,EAAAF,EAAU,aAAV,YAAAE,EAAsB,KACzB,OAAQ,CACN,eAAgB;AAAA;AAAA,GAChB,IAAGC,GAAAC,EAAAJ,EAAU,aAAV,YAAAI,EAAsB,OAAtB,YAAAD,EAA4B,MACjC,CACF,CACF"}