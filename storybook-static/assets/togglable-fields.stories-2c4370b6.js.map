{"version":3,"file":"togglable-fields.stories-2c4370b6.js","sources":["../../stories/overview/togglable-fields.stories.jsx"],"sourcesContent":["import { useCorn } from '@react-corn/core';\nimport { Switch, Text } from '@react-corn/mui';\nimport { memo, useCallback } from 'react';\nimport { Button, Form } from '../helpers/muiForm';\nimport { Story } from '../helpers/Story';\nexport default {\n  title: 'Overview/togglable-fields',\n  parameters: {\n    options: {\n      showPanel: true\n    }\n  }\n};\nconst CornForm = memo(({\n  item,\n  onItem,\n  onTransient,\n  onDelta,\n  onErrors\n}) => {\n  const handleChange = useCallback((transient, delta, errors) => {\n    onTransient(transient);\n    onErrors(errors);\n  }, [onErrors, onTransient]);\n  const handleSubmit = useCallback((item, delta, cleanedItem) => {\n    // We use cleanedItem here to remove unwanted value\n    onItem(cleanedItem);\n    onDelta(delta);\n  }, [onDelta, onItem]);\n  const {\n    form,\n    field,\n    modified,\n    onReset,\n    current\n  } = useCorn({\n    item,\n    onChange: handleChange,\n    onSubmit: handleSubmit\n  });\n  return <Form {...form}>\n      <Switch {...field('night')} onLabel=\"Night\">\n        Day\n      </Switch>\n      {current(({\n      night\n    }) => night) && <Text required {...field('night-text')}>\n          Night Text\n        </Text>}\n      {current(({\n      night\n    }) => !night) && <Text required {...field('day-text')}>\n          Day Text\n        </Text>}\n      <Button type=\"submit\" disabled={!modified} color=\"primary\" variant=\"contained\">\n        Submit\n      </Button>\n      <Button disabled={!modified} onClick={onReset}>\n        Reset\n      </Button>\n    </Form>;\n});\nexport const CornStory = () => {\n  return <Story Chapter={CornForm} initialItem={{\n    night: true\n  }} />;\n};\nCornStory.parameters = {\n  ...CornStory.parameters,\n  docs: {\n    ...CornStory.parameters?.docs,\n    source: {\n      originalSource: \"() => {\\n  return <Story Chapter={CornForm} initialItem={{\\n    night: true\\n  }} />;\\n}\",\n      ...CornStory.parameters?.docs?.source\n    }\n  }\n};"],"names":["togglableFields_stories","CornForm","memo","item","onItem","onTransient","onDelta","onErrors","handleChange","useCallback","transient","delta","errors","handleSubmit","cleanedItem","form","field","modified","onReset","current","useCorn","jsxs","Form","jsx","Switch","night","Text","Button","CornStory","Story","_a","_c","_b"],"mappings":"2lBAKA,MAAeA,EAAA,CACb,MAAO,4BACP,WAAY,CACV,QAAS,CACP,UAAW,EACb,CACF,CACF,EACMC,EAAWC,OAAK,CAAC,CACrB,KAAAC,EACA,OAAAC,EACA,YAAAC,EACA,QAAAC,EACA,SAAAC,CACF,IAAM,CACJ,MAAMC,EAAeC,EAAA,YAAY,CAACC,EAAWC,EAAOC,IAAW,CAC7DP,EAAYK,CAAS,EACrBH,EAASK,CAAM,CAAA,EACd,CAACL,EAAUF,CAAW,CAAC,EACpBQ,EAAeJ,EAAA,YAAY,CAACN,EAAMQ,EAAOG,IAAgB,CAE7DV,EAAOU,CAAW,EAClBR,EAAQK,CAAK,CAAA,EACZ,CAACL,EAASF,CAAM,CAAC,EACd,CACJ,KAAAW,EACA,MAAAC,EACA,SAAAC,EACA,QAAAC,EACA,QAAAC,GACEC,EAAQ,CACV,KAAAjB,EACA,SAAUK,EACV,SAAUK,CAAA,CACX,EACM,OAAAQ,EAACC,EAAM,CAAA,GAAGP,EACb,SAAA,CAAAQ,EAACC,GAAQ,GAAGR,EAAM,OAAO,EAAG,QAAQ,QAAQ,SAE5C,MAAA,EACCG,EAAQ,CAAC,CACV,MAAAM,CACF,IAAMA,CAAK,GAAMF,EAAAG,EAAA,CAAK,SAAQ,GAAE,GAAGV,EAAM,YAAY,EAAG,SAEpD,YAAA,CAAA,EACDG,EAAQ,CAAC,CACV,MAAAM,CACI,IAAA,CAACA,CAAK,GAAMF,EAAAG,EAAA,CAAK,SAAQ,GAAE,GAAGV,EAAM,UAAU,EAAG,SAEnD,UAAA,CAAA,EACFO,EAACI,EAAO,CAAA,KAAK,SAAS,SAAU,CAACV,EAAU,MAAM,UAAU,QAAQ,YAAY,SAE/E,QAAA,CAAA,IACCU,EAAO,CAAA,SAAU,CAACV,EAAU,QAASC,EAAS,SAE/C,QAAA,CACF,CAAA,CAAA,CACJ,CAAC,EACYU,EAAY,IACfL,EAAAM,EAAA,CAAM,QAAS5B,EAAU,YAAa,CAC5C,MAAO,EACN,CAAA,CAAA,YAEL2B,EAAU,WAAa,CACrB,GAAGA,EAAU,WACb,KAAM,CACJ,IAAGE,EAAAF,EAAU,aAAV,YAAAE,EAAsB,KACzB,OAAQ,CACN,eAAgB;AAAA;AAAA;AAAA;AAAA,GAChB,IAAGC,GAAAC,EAAAJ,EAAU,aAAV,YAAAI,EAAsB,OAAtB,YAAAD,EAA4B,MACjC,CACF,CACF"}