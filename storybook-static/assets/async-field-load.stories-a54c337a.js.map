{"version":3,"file":"async-field-load.stories-a54c337a.js","sources":["../../stories/sandbox/async-field-load.stories.jsx"],"sourcesContent":["/* eslint-disable jsx-a11y/label-has-associated-control */\nimport { useCorn } from '@react-corn/core';\nimport { ButtonRow, TextArea } from '@react-corn/simple';\nimport { lazy, memo, Suspense, useCallback } from 'react';\nimport 'react-quill/dist/quill.snow.css';\nimport { Story } from '../helpers/Story';\nconst Quill = lazy(() => import( /* webpackChunkName: \"quill\" */'@react-corn/quill').then(module => ({\n  default: module.Quill\n})));\nconst CornForm = memo(({\n  item,\n  onItem,\n  onTransient,\n  onDelta,\n  onErrors\n}) => {\n  const handleChange = useCallback((transient, delta, errors) => {\n    onTransient(transient);\n    onErrors(errors);\n  }, [onErrors, onTransient]);\n  const handleSubmit = useCallback((item, delta, cleanItem) => {\n    onItem(cleanItem);\n    onDelta(delta);\n  }, [onDelta, onItem]);\n  const {\n    form,\n    field,\n    modified,\n    onReset\n  } = useCorn({\n    item,\n    onChange: handleChange,\n    onSubmit: handleSubmit\n  });\n  return <form {...form}>\n      <Suspense fallback=\"Loading...\">\n        <Quill {...field('html')}>Html</Quill>\n      </Suspense>\n      <TextArea {...field('html')}>Raw html</TextArea>\n\n      <ButtonRow>\n        <button disabled={!modified}>Submit</button>\n        <button type=\"button\" disabled={!modified} onClick={onReset}>\n          Reset\n        </button>\n      </ButtonRow>\n    </form>;\n});\nexport const AsyncDemo = () => {\n  return <Story Chapter={CornForm} initialItem={{\n    html: '<p>Here I am, async as possible</p>'\n  }} />;\n};\nexport default {\n  title: 'Sandbox/async-field-load',\n  parameters: {\n    options: {\n      showPanel: true\n    }\n  }\n};\nAsyncDemo.parameters = {\n  ...AsyncDemo.parameters,\n  docs: {\n    ...AsyncDemo.parameters?.docs,\n    source: {\n      originalSource: \"() => {\\n  return <Story Chapter={CornForm} initialItem={{\\n    html: '<p>Here I am, async as possible</p>'\\n  }} />;\\n}\",\n      ...AsyncDemo.parameters?.docs?.source\n    }\n  }\n};"],"names":["Quill","lazy","__vitePreload","module","CornForm","memo","item","onItem","onTransient","onDelta","onErrors","handleChange","useCallback","transient","delta","errors","handleSubmit","cleanItem","form","field","modified","onReset","useCorn","jsxs","jsx","Suspense","TextArea","ButtonRow","AsyncDemo","Story","asyncFieldLoad_stories","_a","_c","_b"],"mappings":"keAMA,MAAMA,EAAQC,EAAAA,KAAK,IAAMC,EAAA,IAAA,OAAuC,0BAAmB,EAAA,mBAAA,YAAA,GAAA,EAAE,KAAgBC,IAAA,CACnG,QAASA,EAAO,KAClB,EAAE,CAAC,EACGC,EAAWC,OAAK,CAAC,CACrB,KAAAC,EACA,OAAAC,EACA,YAAAC,EACA,QAAAC,EACA,SAAAC,CACF,IAAM,CACJ,MAAMC,EAAeC,EAAA,YAAY,CAACC,EAAWC,EAAOC,IAAW,CAC7DP,EAAYK,CAAS,EACrBH,EAASK,CAAM,CAAA,EACd,CAACL,EAAUF,CAAW,CAAC,EACpBQ,EAAeJ,EAAA,YAAY,CAACN,EAAMQ,EAAOG,IAAc,CAC3DV,EAAOU,CAAS,EAChBR,EAAQK,CAAK,CAAA,EACZ,CAACL,EAASF,CAAM,CAAC,EACd,CACJ,KAAAW,EACA,MAAAC,EACA,SAAAC,EACA,QAAAC,GACEC,EAAQ,CACV,KAAAhB,EACA,SAAUK,EACV,SAAUK,CAAA,CACX,EACM,OAAAO,EAAC,OAAM,CAAA,GAAGL,EACb,SAAA,CAACM,EAAAC,EAAA,SAAA,CAAS,SAAS,aACjB,SAACD,EAAAxB,EAAA,CAAO,GAAGmB,EAAM,MAAM,EAAG,SAAA,MAAA,CAAI,CAChC,CAAA,IACCO,EAAU,CAAA,GAAGP,EAAM,MAAM,EAAG,SAAQ,WAAA,IAEpCQ,EACC,CAAA,SAAA,CAAAH,EAAC,SAAO,CAAA,SAAU,CAACJ,EAAU,SAAM,SAAA,EACnCI,EAAC,UAAO,KAAK,SAAS,SAAU,CAACJ,EAAU,QAASC,EAAS,SAE7D,OAAA,CAAA,CAAA,EACF,CACF,CAAA,CAAA,CACJ,CAAC,EACYO,EAAY,IACfJ,EAAAK,EAAA,CAAM,QAASzB,EAAU,YAAa,CAC5C,KAAM,qCACL,CAAA,CAAA,EAEU0B,EAAA,CACb,MAAO,2BACP,WAAY,CACV,QAAS,CACP,UAAW,EACb,CACF,CACF,YACAF,EAAU,WAAa,CACrB,GAAGA,EAAU,WACb,KAAM,CACJ,IAAGG,EAAAH,EAAU,aAAV,YAAAG,EAAsB,KACzB,OAAQ,CACN,eAAgB;AAAA;AAAA;AAAA;AAAA,GAChB,IAAGC,GAAAC,EAAAL,EAAU,aAAV,YAAAK,EAAsB,OAAtB,YAAAD,EAA4B,MACjC,CACF,CACF"}