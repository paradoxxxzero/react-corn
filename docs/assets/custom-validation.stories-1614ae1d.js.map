{"version":3,"file":"custom-validation.stories-1614ae1d.js","sources":["../../stories/overview/custom-validation.stories.jsx"],"sourcesContent":["/* eslint-disable jsx-a11y/label-has-associated-control */\nimport { useCorn } from '@react-corn/core';\nimport { ButtonRow, Number } from '@react-corn/simple';\nimport { memo, useCallback } from 'react';\nimport { Story } from '../helpers/Story';\nexport default {\n  title: 'Overview/custom-validation',\n  parameters: {\n    options: {\n      showPanel: true\n    }\n  }\n};\nconst isPrime = n => ![...Array(n).keys()].slice(2).map(i => !(n % i)).includes(true) && ![0, 1].includes(n);\nconst CornForm = memo(({\n  item,\n  onItem,\n  onTransient,\n  onDelta,\n  onErrors\n}) => {\n  const handleChange = useCallback((transient, delta, errors) => {\n    onTransient(transient);\n    onErrors(errors);\n  }, [onErrors, onTransient]);\n  const handleSubmit = useCallback((item, delta) => {\n    onItem(item);\n    onDelta(delta);\n  }, [onDelta, onItem]);\n  const {\n    form,\n    field,\n    modified,\n    onReset\n  } = useCorn({\n    item,\n    onChange: handleChange,\n    onSubmit: handleSubmit\n  });\n  return <form {...form}>\n      <Number required min={0} max={1000} {...field('prime', v => !isPrime(v) && `${v} is not a prime number`)}>\n        Prime number\n      </Number>\n      <Number min={0} max={1000} {...field('bigger', (bigger, {\n      prime\n    }) => window.Number.isInteger(bigger) && prime >= bigger && `${bigger} is not bigger than a ${prime}`)}>\n        Bigger number\n      </Number>\n\n      <ButtonRow>\n        <button disabled={!modified}>Submit</button>\n        <button type=\"button\" disabled={!modified} onClick={onReset}>\n          Reset\n        </button>\n      </ButtonRow>\n    </form>;\n});\nexport const CornStory = () => {\n  return <Story Chapter={CornForm} />;\n};\nCornStory.parameters = {\n  ...CornStory.parameters,\n  docs: {\n    ...CornStory.parameters?.docs,\n    source: {\n      originalSource: \"() => {\\n  return <Story Chapter={CornForm} />;\\n}\",\n      ...CornStory.parameters?.docs?.source\n    }\n  }\n};"],"names":["customValidation_stories","isPrime","n","CornForm","memo","item","onItem","onTransient","onDelta","onErrors","handleChange","useCallback","transient","delta","errors","handleSubmit","form","field","modified","onReset","useCorn","jsxs","jsx","Number","v","bigger","prime","ButtonRow","CornStory","Story","_a","_c","_b"],"mappings":"0XAKA,MAAAA,EAAA,CACA,MAAA,6BACA,WAAA,CACA,QAAA,CACA,UAAA,EACA,CACA,CACA,EACAC,EAAAC,GAAA,CAAA,CAAA,GAAA,MAAAA,CAAA,EAAA,KAAA,CAAA,EAAA,MAAA,CAAA,EAAA,IAAA,GAAA,EAAAA,EAAA,EAAA,EAAA,SAAA,EAAA,GAAA,CAAA,CAAA,EAAA,CAAA,EAAA,SAAAA,CAAA,EACAC,EAAAC,OAAA,CAAA,CACA,KAAAC,EACA,OAAAC,EACA,YAAAC,EACA,QAAAC,EACA,SAAAC,CACA,IAAA,CACA,MAAAC,EAAAC,EAAA,YAAA,CAAAC,EAAAC,EAAAC,IAAA,CACAP,EAAAK,CAAA,EACAH,EAAAK,CAAA,CAAA,EACA,CAAAL,EAAAF,CAAA,CAAA,EACAQ,EAAAJ,EAAAA,YAAA,CAAAN,EAAAQ,IAAA,CACAP,EAAAD,CAAA,EACAG,EAAAK,CAAA,CAAA,EACA,CAAAL,EAAAF,CAAA,CAAA,EACA,CACA,KAAAU,EACA,MAAAC,EACA,SAAAC,EACA,QAAAC,GACAC,EAAA,CACA,KAAAf,EACA,SAAAK,EACA,SAAAK,CAAA,CACA,EACA,OAAAM,EAAA,OAAA,CAAA,GAAAL,EACA,SAAA,CAAAM,EAAAC,GAAA,SAAA,GAAA,IAAA,EAAA,IAAA,IAAA,GAAAN,EAAA,QAAAO,GAAA,CAAAvB,EAAAuB,CAAA,GAAA,GAAAA,yBAAA,EAAA,SAEA,eAAA,EACAF,EAAAC,EAAA,CAAA,IAAA,EAAA,IAAA,IAAA,GAAAN,EAAA,SAAA,CAAAQ,EAAA,CACA,MAAAC,CAAA,IACA,OAAA,OAAA,UAAAD,CAAA,GAAAC,GAAAD,GAAA,GAAAA,0BAAAC,GAAA,EAAA,SAEA,gBAAA,IAEAC,EACA,CAAA,SAAA,CAAAL,EAAA,SAAA,CAAA,SAAA,CAAAJ,EAAA,SAAA,SAAA,EACAI,EAAA,UAAA,KAAA,SAAA,SAAA,CAAAJ,EAAA,QAAAC,EAAA,SAEA,OAAA,CAAA,CAAA,EACA,CACA,CAAA,CAAA,CACA,CAAA,EACAS,EAAA,IACAN,EAAAO,EAAA,CAAA,QAAA1B,CAAA,CAAA,YAEAyB,EAAA,WAAA,CACA,GAAAA,EAAA,WACA,KAAA,CACA,IAAAE,EAAAF,EAAA,aAAA,YAAAE,EAAA,KACA,OAAA,CACA,eAAA;AAAA;AAAA,GACA,IAAAC,GAAAC,EAAAJ,EAAA,aAAA,YAAAI,EAAA,OAAA,YAAAD,EAAA,MACA,CACA,CACA,EAAAH,EAAA,aAAA,CAAA,YAAA,GAAA,QAAA,GAAA,YAAA"}