{"version":3,"file":"async-field-load.stories-23216177.js","sources":["../../stories/sandbox/async-field-load.stories.jsx"],"sourcesContent":["/* eslint-disable jsx-a11y/label-has-associated-control */\nimport { useCorn } from '@react-corn/core';\nimport { ButtonRow, TextArea } from '@react-corn/simple';\nimport { lazy, memo, Suspense, useCallback } from 'react';\nimport 'react-quill/dist/quill.snow.css';\nimport { Story } from '../helpers/Story';\nconst Quill = lazy(() => import( /* webpackChunkName: \"quill\" */'@react-corn/quill').then(module => ({\n  default: module.Quill\n})));\nconst CornForm = memo(({\n  item,\n  onItem,\n  onTransient,\n  onDelta,\n  onErrors\n}) => {\n  const handleChange = useCallback((transient, delta, errors) => {\n    onTransient(transient);\n    onErrors(errors);\n  }, [onErrors, onTransient]);\n  const handleSubmit = useCallback((item, delta, cleanItem) => {\n    onItem(cleanItem);\n    onDelta(delta);\n  }, [onDelta, onItem]);\n  const {\n    form,\n    field,\n    modified,\n    onReset\n  } = useCorn({\n    item,\n    onChange: handleChange,\n    onSubmit: handleSubmit\n  });\n  return <form {...form}>\n      <Suspense fallback=\"Loading...\">\n        <Quill {...field('html')}>Html</Quill>\n      </Suspense>\n      <TextArea {...field('html')}>Raw html</TextArea>\n\n      <ButtonRow>\n        <button disabled={!modified}>Submit</button>\n        <button type=\"button\" disabled={!modified} onClick={onReset}>\n          Reset\n        </button>\n      </ButtonRow>\n    </form>;\n});\nexport const AsyncDemo = () => {\n  return <Story Chapter={CornForm} initialItem={{\n    html: '<p>Here I am, async as possible</p>'\n  }} />;\n};\nexport default {\n  title: 'Sandbox/async-field-load',\n  parameters: {\n    options: {\n      showPanel: true\n    }\n  }\n};\nAsyncDemo.parameters = {\n  ...AsyncDemo.parameters,\n  docs: {\n    ...AsyncDemo.parameters?.docs,\n    source: {\n      originalSource: \"() => {\\n  return <Story Chapter={CornForm} initialItem={{\\n    html: '<p>Here I am, async as possible</p>'\\n  }} />;\\n}\",\n      ...AsyncDemo.parameters?.docs?.source\n    }\n  }\n};"],"names":["Quill","lazy","__vitePreload","module","CornForm","memo","item","onItem","onTransient","onDelta","onErrors","handleChange","useCallback","transient","delta","errors","handleSubmit","cleanItem","form","field","modified","onReset","useCorn","jsxs","jsx","Suspense","TextArea","ButtonRow","AsyncDemo","Story","asyncFieldLoad_stories","_a","_c","_b"],"mappings":"seAMA,MAAAA,EAAAC,EAAAA,KAAA,IAAAC,EAAA,IAAA,OAAA,0BAAA,EAAA,mBAAA,YAAA,GAAA,EAAA,KAAAC,IAAA,CACA,QAAAA,EAAA,KACA,EAAA,CAAA,EACAC,EAAAC,OAAA,CAAA,CACA,KAAAC,EACA,OAAAC,EACA,YAAAC,EACA,QAAAC,EACA,SAAAC,CACA,IAAA,CACA,MAAAC,EAAAC,EAAA,YAAA,CAAAC,EAAAC,EAAAC,IAAA,CACAP,EAAAK,CAAA,EACAH,EAAAK,CAAA,CAAA,EACA,CAAAL,EAAAF,CAAA,CAAA,EACAQ,EAAAJ,EAAA,YAAA,CAAAN,EAAAQ,EAAAG,IAAA,CACAV,EAAAU,CAAA,EACAR,EAAAK,CAAA,CAAA,EACA,CAAAL,EAAAF,CAAA,CAAA,EACA,CACA,KAAAW,EACA,MAAAC,EACA,SAAAC,EACA,QAAAC,GACAC,EAAA,CACA,KAAAhB,EACA,SAAAK,EACA,SAAAK,CAAA,CACA,EACA,OAAAO,EAAA,OAAA,CAAA,GAAAL,EACA,SAAA,CAAAM,EAAAC,EAAA,SAAA,CAAA,SAAA,aACA,SAAAD,EAAAxB,EAAA,CAAA,GAAAmB,EAAA,MAAA,EAAA,SAAA,MAAA,CAAA,CACA,CAAA,IACAO,EAAA,CAAA,GAAAP,EAAA,MAAA,EAAA,SAAA,WAAA,IAEAQ,EACA,CAAA,SAAA,CAAAH,EAAA,SAAA,CAAA,SAAA,CAAAJ,EAAA,SAAA,SAAA,EACAI,EAAA,UAAA,KAAA,SAAA,SAAA,CAAAJ,EAAA,QAAAC,EAAA,SAEA,OAAA,CAAA,CAAA,EACA,CACA,CAAA,CAAA,CACA,CAAA,EACAO,EAAA,IACAJ,EAAAK,EAAA,CAAA,QAAAzB,EAAA,YAAA,CACA,KAAA,qCACA,CAAA,CAAA,EAEA0B,EAAA,CACA,MAAA,2BACA,WAAA,CACA,QAAA,CACA,UAAA,EACA,CACA,CACA,YACAF,EAAA,WAAA,CACA,GAAAA,EAAA,WACA,KAAA,CACA,IAAAG,EAAAH,EAAA,aAAA,YAAAG,EAAA,KACA,OAAA,CACA,eAAA;AAAA;AAAA;AAAA;AAAA,GACA,IAAAC,GAAAC,EAAAL,EAAA,aAAA,YAAAK,EAAA,OAAA,YAAAD,EAAA,MACA,CACA,CACA,EAAAJ,EAAA,aAAA,CAAA,YAAA,GAAA,QAAA,GAAA,YAAA"}