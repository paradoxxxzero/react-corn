{"version":3,"file":"bundle.esm-afd8ca76.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../packages/core/dist/bundle.esm.js"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","import { useMemo, useRef, useEffect, useCallback, memo, useReducer } from 'react';\nimport { jsx, jsxs } from 'react/jsx-runtime';\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _toArray(arr) {\n  return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest();\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nvar useOptions = function useOptions(choices) {\n  var options = useMemo(function () {\n    return Array.isArray(choices) ? choices.map(function (c) {\n      return Array.isArray(c) ? c : [c, c];\n    }) : Object.entries(choices || {});\n  }, [choices]);\n  return options;\n};\nvar useMaybeMultipleValue = function useMaybeMultipleValue(multiple, value) {\n  var multipleValue = useMemo(function () {\n    if (!multiple && Array.isArray(value)) {\n      return value.length ? value[0] : '';\n    }\n    if (multiple && !Array.isArray(value)) {\n      return value !== null && value !== void 0 && value !== '' ? [value] : [];\n    }\n    return value;\n  }, [multiple, value]);\n  return multipleValue;\n};\nvar noOp = function noOp() {};\nvar VALUE_DELIMITER = '/--/';\nvar useControlField = function useControlField(name, value, checkboxType) {\n  var props = useMemo(function () {\n    var _ref;\n    return _ref = {\n      name: \"\".concat(name, \"-corn-control\")\n    }, _defineProperty(_ref, checkboxType ? 'checked' : 'value', checkboxType ? !!value : Array.isArray(value) ? value.join(VALUE_DELIMITER) : value === null || value === undefined ? '' : _typeof(value) === 'object' ? Object.keys(value).length ? JSON.stringify(value) : '' : value), _defineProperty(_ref, \"onChange\", noOp), _ref;\n  }, [checkboxType, name, value]);\n  return props;\n};\n\nvar _excluded$1 = [\"name\", \"value\", \"type\", \"modified\", \"error\", \"customError\", \"plant\", \"unplant\", \"onChange\", \"onError\", \"onBlur\"];\nvar useCornField = (function (_ref) {\n  var name = _ref.name,\n    value = _ref.value,\n    type = _ref.type;\n    _ref.modified;\n    _ref.error;\n    var customError = _ref.customError,\n    plant = _ref.plant,\n    unplant = _ref.unplant,\n    onChange = _ref.onChange,\n    onError = _ref.onError,\n    onBlur = _ref.onBlur,\n    props = _objectWithoutProperties(_ref, _excluded$1);\n  // The form element ref\n  var elementRef = useRef();\n\n  // Registering/Unregistering this field on mount/unmount\n  useEffect(function () {\n    plant(name);\n    return function () {\n      unplant(name);\n    };\n  }, [name, plant, unplant]);\n\n  // Default onChange behavior: get value or checked from event and call onChange\n  // with name and value\n  var handleChange = useCallback(function (e) {\n    return onChange(name, e.target[['radio', 'checkbox'].includes(type) ? 'checked' : 'value']);\n  }, [name, onChange, type]);\n\n  // On blur call super onBlur with current value\n  var handleBlur = useCallback(function () {\n    return onBlur(name, value);\n  }, [name, value, onBlur]);\n\n  // After render check for field errors and dispatch them\n  useEffect(function () {\n    if (!elementRef.current) {\n      // This happens in tests\n      return;\n    }\n    // Assign a custom error to the field or remove it\n    elementRef.current.setCustomValidity(customError || '');\n    // Dispatch the name and the custom error or the native one.\n    onError(name, elementRef.current.checkValidity() ? null : elementRef.current.validationMessage);\n  }, [name, customError, onError, value,\n  // Native validation props:\n  props.required, props.minLength, props.maxLength, props.min, props.max, props.type, props.pattern]);\n  return _objectSpread2({\n    ref: elementRef,\n    name: name,\n    value: value,\n    type: type,\n    onChange: handleChange,\n    onBlur: handleBlur\n  }, props);\n});\n\nvar _excluded = [\"Component\"],\n  _excluded2 = [\"onChange\"],\n  _excluded3 = [\"precision\", \"onChange\", \"onBlur\"],\n  _excluded4 = [\"choices\", \"multiple\"],\n  _excluded5 = [\"choices\", \"multiple\", \"Root\"],\n  _excluded6 = [\"ref\"];\nvar Input = /*#__PURE__*/memo(function Input(_ref) {\n  var _ref$Component = _ref.Component,\n    Component = _ref$Component === void 0 ? 'input' : _ref$Component,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var inputProps = useCornField(props);\n  if (['checkbox', 'radio'].includes(inputProps.type)) {\n    inputProps.checked = !!inputProps.value;\n    delete inputProps.value;\n  }\n  return /*#__PURE__*/jsx(Component, _objectSpread2({}, inputProps));\n});\nvar Checkbox = function Checkbox(props) {\n  return /*#__PURE__*/jsx(Input, _objectSpread2({\n    type: \"checkbox\"\n  }, props));\n};\nvar Color = function Color(props) {\n  return /*#__PURE__*/jsx(Input, _objectSpread2({\n    type: \"color\"\n  }, props));\n};\nvar Date$1 = function Date(props) {\n  return /*#__PURE__*/jsx(Input, _objectSpread2({\n    type: \"date\"\n  }, props));\n};\nvar DatetimeLocal = function DatetimeLocal(props) {\n  return /*#__PURE__*/jsx(Input, _objectSpread2({\n    type: \"datetime-local\"\n  }, props));\n};\nvar Email = function Email(props) {\n  var avoidSpacesThatBreakReact = useCallback(function (e) {\n    // https://github.com/facebook/react/issues/6368\n    if (e.key === ' ') {\n      e.preventDefault();\n    }\n  }, []);\n  return /*#__PURE__*/jsx(Input, _objectSpread2({\n    type: \"email\",\n    onKeyDown: avoidSpacesThatBreakReact\n  }, props));\n};\nvar File = function File(props) {\n  return /*#__PURE__*/jsx(Input, _objectSpread2({\n    type: \"file\"\n  }, props));\n};\nvar Hidden = function Hidden(props) {\n  return /*#__PURE__*/jsx(Input, _objectSpread2({\n    type: \"hidden\"\n  }, props));\n};\nvar Month = function Month(props) {\n  return /*#__PURE__*/jsx(Input, _objectSpread2({\n    type: \"month\"\n  }, props));\n};\nvar Password = function Password(props) {\n  return /*#__PURE__*/jsx(Input, _objectSpread2({\n    type: \"password\"\n  }, props));\n};\nvar Radio = function Radio(props) {\n  return /*#__PURE__*/jsx(Input, _objectSpread2({\n    type: \"radio\"\n  }, props));\n};\nvar Range = function Range(props) {\n  return /*#__PURE__*/jsx(Input, _objectSpread2({\n    type: \"range\"\n  }, props));\n};\nvar Search = function Search(props) {\n  return /*#__PURE__*/jsx(Input, _objectSpread2({\n    type: \"search\"\n  }, props));\n};\nvar Tel = function Tel(props) {\n  return /*#__PURE__*/jsx(Input, _objectSpread2({\n    type: \"tel\"\n  }, props));\n};\nvar Text = function Text(props) {\n  return /*#__PURE__*/jsx(Input, _objectSpread2({\n    type: \"text\"\n  }, props));\n};\nvar Time = function Time(props) {\n  return /*#__PURE__*/jsx(Input, _objectSpread2({\n    type: \"time\"\n  }, props));\n};\nvar Url = function Url(props) {\n  return /*#__PURE__*/jsx(Input, _objectSpread2({\n    type: \"url\"\n  }, props));\n};\nvar Week = function Week(props) {\n  return /*#__PURE__*/jsx(Input, _objectSpread2({\n    type: \"week\"\n  }, props));\n};\nvar Number$1 = function Number(_ref2) {\n  var onChange = _ref2.onChange,\n    props = _objectWithoutProperties(_ref2, _excluded2);\n  var handleChange = useCallback(function (n, v) {\n    return onChange(n, isNaN(parseFloat(v)) ? null : parseFloat(v));\n  }, [onChange]);\n  return /*#__PURE__*/jsx(Input, _objectSpread2({\n    type: \"number\",\n    onChange: handleChange\n  }, props));\n};\nvar Money = function Money(_ref3) {\n  var _ref3$precision = _ref3.precision,\n    precision = _ref3$precision === void 0 ? 2 : _ref3$precision,\n    onChange = _ref3.onChange,\n    onBlur = _ref3.onBlur,\n    props = _objectWithoutProperties(_ref3, _excluded3);\n  var order = !precision && precision !== 0 ? props.i18n.money.precision : precision;\n  if (!props.min) {\n    props.min = 0;\n  }\n  var handleChange = useCallback(function (n, v) {\n    return onChange(n, v && v.includes('e') ? parseFloat(v).toFixed(order) : v);\n  }, [onChange, order]);\n  var handleBlur = useCallback(function (n, v) {\n    var value = v || null;\n    if (v && v.includes('.') && !_toConsumableArray(v).every(function (c) {\n      return '0.'.includes(c);\n    })) {\n      var decimalLength = v.split('.')[1].length;\n      if (decimalLength > precision) {\n        value = v.slice(0, precision - decimalLength);\n      } else if (decimalLength < precision) {\n        value = v + '0'.repeat(precision - decimalLength);\n      }\n    }\n    onBlur(n, value);\n  }, [onBlur, precision]);\n  return /*#__PURE__*/jsx(Input, _objectSpread2({\n    type: \"number\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    step: order === 0 ? 1 : \"0.\".concat('0'.repeat(order - 1), \"1\")\n  }, props));\n};\nvar TextArea = function TextArea(props) {\n  return /*#__PURE__*/jsx(Input, _objectSpread2({\n    Component: \"textarea\"\n  }, props));\n};\nvar Select = /*#__PURE__*/memo(function Select(_ref4) {\n  var choices = _ref4.choices,\n    multiple = _ref4.multiple,\n    props = _objectWithoutProperties(_ref4, _excluded4);\n  var onChange = props.onChange;\n  var selectProps = useCornField(props);\n  var name = selectProps.name,\n    value = selectProps.value;\n  var options = useOptions(choices);\n  var multipleValue = useMaybeMultipleValue(multiple, value);\n  var handleChange = useCallback(function (e) {\n    onChange(name, multiple ? _toConsumableArray(e.target.options).filter(function (o) {\n      return o.selected;\n    }).map(function (o) {\n      return o.value;\n    }) : e.target.value);\n  }, [name, onChange, multiple]);\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/no-onchange\n    jsxs(\"select\", _objectSpread2(_objectSpread2({}, selectProps), {}, {\n      multiple: multiple,\n      onChange: handleChange,\n      value: multipleValue,\n      children: [!multiple && options.every(function (_ref5) {\n        var _ref6 = _slicedToArray(_ref5, 1),\n          k = _ref6[0];\n        return k;\n      }) && /*#__PURE__*/jsx(\"option\", {\n        value: \"\"\n      }), options.map(function (_ref7) {\n        var _ref8 = _slicedToArray(_ref7, 2),\n          label = _ref8[0],\n          key = _ref8[1];\n        return /*#__PURE__*/jsx(\"option\", {\n          value: key,\n          children: label\n        }, key);\n      })]\n    }))\n  );\n});\nvar Picker = /*#__PURE__*/memo(function Picker(_ref9) {\n  var choices = _ref9.choices,\n    multiple = _ref9.multiple,\n    _ref9$Root = _ref9.Root,\n    Root = _ref9$Root === void 0 ? 'fieldset' : _ref9$Root,\n    props = _objectWithoutProperties(_ref9, _excluded5);\n  var onChange = props.onChange;\n  var _useCornField = useCornField(props),\n    ref = _useCornField.ref,\n    cornProps = _objectWithoutProperties(_useCornField, _excluded6);\n  var name = cornProps.name,\n    value = cornProps.value;\n  var options = useOptions(choices);\n  var multipleValue = useMaybeMultipleValue(multiple, value);\n  var controlProps = useControlField(name, value);\n  var handleChange = useCallback(function (e) {\n    var key = e.target.dataset.key;\n    onChange(name, multiple ? e.target.checked ? [].concat(_toConsumableArray(multipleValue), [key]) : multipleValue.filter(function (v) {\n      return v !== key;\n    }) : key);\n  }, [onChange, name, multiple, multipleValue]);\n  var type = multiple ? 'checkbox' : 'radio';\n  return /*#__PURE__*/jsxs(Root, {\n    children: [options.map(function (_ref10) {\n      var _ref11 = _slicedToArray(_ref10, 2),\n        label = _ref11[0],\n        key = _ref11[1];\n      return /*#__PURE__*/jsxs(\"label\", {\n        children: [/*#__PURE__*/jsx(\"input\", {\n          type: type,\n          checked: multiple ? multipleValue.includes(key) : key === multipleValue,\n          onChange: handleChange,\n          \"data-key\": key\n        }), label]\n      }, key);\n    }), /*#__PURE__*/jsx(\"input\", _objectSpread2(_objectSpread2({}, cornProps), {}, {\n      ref: ref,\n      style: {\n        opacity: 0,\n        position: 'absolute',\n        zIndex: -1\n      }\n    }, controlProps))]\n  });\n});\n\nvar nullishToEmptyString = function nullishToEmptyString(v) {\n  return v === null || v === void 0 ? '' : v;\n};\nvar emptyStringToNull = function emptyStringToNull(v) {\n  return v === '' ? null : v;\n};\n\n// Get a sub object value (ie. obj['a.b.0.key'])\nvar get = function get(data, key) {\n  return nullishToEmptyString(key.includes('.') ? key.split('.').reduce(function (pointer, part) {\n    return pointer && pointer[part];\n  }, data) : data[key]);\n};\nvar update = function update(o, name, value) {\n  if (name.includes('.')) {\n    var _name$split = name.split('.'),\n      _name$split2 = _toArray(_name$split),\n      key = _name$split2[0],\n      rest = _name$split2.slice(1);\n    if (!o[key]) {\n      o[key] = {};\n    }\n    update(o[key], rest.join('.'), value);\n  } else {\n    o[name] = value;\n  }\n};\nvar cloneArray = function cloneArray(array) {\n  var keys = Object.keys(array);\n  var clonedArray = new Array(keys.length);\n  for (var i = 0; i < keys.length; i++) {\n    var k = keys[i];\n    var cur = array[k];\n    if (_typeof(cur) !== 'object' || cur === null) {\n      clonedArray[k] = cur;\n    } else if (cur instanceof Date) {\n      clonedArray[k] = new Date(cur);\n    } else {\n      clonedArray[k] = clone(cur);\n    }\n  }\n  return clonedArray;\n};\nvar clone = function clone(o) {\n  if (_typeof(o) !== 'object' || o === null) {\n    return o;\n  }\n  if (o instanceof Date) {\n    return new Date(o);\n  }\n  if (Array.isArray(o)) {\n    return cloneArray(o);\n  }\n  var cloned = {};\n  for (var k in o) {\n    if (Object.hasOwnProperty.call(o, k) === false) {\n      continue;\n    }\n    var cur = o[k];\n    if (_typeof(cur) !== 'object' || cur === null) {\n      cloned[k] = cur;\n    } else if (cur instanceof Date) {\n      cloned[k] = new Date(cur);\n    } else {\n      cloned[k] = clone(cur);\n    }\n  }\n  return cloned;\n};\nvar merge = function merge(item, _transient) {\n  var names = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  if (!Object.keys(_transient).length) {\n    return item;\n  }\n  if (names) {\n    var newItem = {};\n    names.forEach(function (name) {\n      update(newItem, name, emptyStringToNull(Object.keys(_transient).includes(name) ? _transient[name] : get(item, name)));\n    });\n    return newItem;\n  }\n  var itemClone = clone(item);\n  Object.entries(_transient).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n      name = _ref2[0],\n      value = _ref2[1];\n    return update(itemClone, name, emptyStringToNull(value));\n  });\n  return itemClone;\n};\n\n// Normalize the value on field exit (defaults to removing extra spaces)\nvar normalizer = function normalizer(v) {\n  return v && v.trim ? v.trim() : v;\n};\nvar isPromise = function isPromise(v) {\n  return v && v.then !== undefined;\n};\nvar reducer = function reducer(state, action) {\n  var _transient, errors;\n  switch (action.type) {\n    case 'change':\n      if (action.value === action.itemValue) {\n        if (Object.keys(state[\"transient\"]).includes(action.name)) {\n          var _state$transient = state[\"transient\"];\n          var _action$name = action.name;\n          _state$transient[_action$name];\n          _transient = _objectWithoutProperties(_state$transient, [_action$name].map(_toPropertyKey));\n        } else {\n          _transient = state[\"transient\"];\n        }\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          \"transient\": _transient\n        });\n      }\n      return _objectSpread2(_objectSpread2({}, state), {}, {\n        \"transient\": _objectSpread2(_objectSpread2({}, state[\"transient\"]), {}, _defineProperty({}, action.name, action.value)),\n        lastChangeReason: action.reason\n      });\n    case 'plant':\n      return _objectSpread2(_objectSpread2({}, state), {}, {\n        names: [].concat(_toConsumableArray(state.names), [action.name])\n      });\n    case 'unplant':\n      var _state$transient2 = state[\"transient\"];\n      var _action$name2 = action.name;\n      _state$transient2[_action$name2];\n      _transient = _objectWithoutProperties(_state$transient2, [_action$name2].map(_toPropertyKey));\n      var _state$errors = state.errors;\n      var _action$name3 = action.name;\n      _state$errors[_action$name3];\n      errors = _objectWithoutProperties(_state$errors, [_action$name3].map(_toPropertyKey));\n      return _objectSpread2(_objectSpread2({}, state), {}, {\n        \"transient\": _transient,\n        names: state.names.filter(function (name) {\n          return name !== action.name;\n        }),\n        touched: state.touched.filter(function (name) {\n          return name !== action.name;\n        }),\n        errors: errors\n      });\n    case 'submit':\n      if (action.result === null || action.result === undefined || action.result === true) {\n        // Reset the form as the submit has been accepted\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          \"transient\": {},\n          touched: []\n        });\n      } else if (_typeof(action.result) === 'object') {\n        // Set server side errors\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          errors: _objectSpread2(_objectSpread2({}, state.errors), Object.fromEntries(Object.entries(action.result).filter(function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 1),\n              name = _ref2[0];\n            return state.names.includes(name);\n          })))\n        });\n      }\n      return state;\n    case 'reset':\n      return _objectSpread2(_objectSpread2({}, state), {}, {\n        \"transient\": {},\n        touched: []\n      });\n    case 'error':\n      if (state.errors[action.name] !== action.error) {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          errors: _objectSpread2(_objectSpread2({}, state.errors), {}, _defineProperty({}, action.name, action.error))\n        });\n      }\n      return state;\n    case 'blur':\n      if (!state.touched.includes(action.name)) {\n        return _objectSpread2(_objectSpread2({}, state), {}, {\n          touched: [].concat(_toConsumableArray(state.touched), [action.name])\n        });\n      }\n      return state;\n    default:\n      throw new Error();\n  }\n};\nvar emptyItem = {};\nvar useCorn = (function (_ref3) {\n  var _ref3$item = _ref3.item,\n    item = _ref3$item === void 0 ? emptyItem : _ref3$item,\n    propagateChange = _ref3.onChange,\n    propagateBlur = _ref3.onBlur,\n    propagateSubmit = _ref3.onSubmit,\n    _ref3$method = _ref3.method,\n    method = _ref3$method === void 0 ? 'POST' : _ref3$method;\n  // transient hold the currently edited item\n  // errors is a mapping of all fields with theirs errors\n  // touched keep track of touched fields to prevent displaying errors\n  // names hold all field names that this form is handling\n  var _useReducer = useReducer(reducer, {\n      \"transient\": {},\n      errors: {},\n      touched: [],\n      names: [],\n      lastChangeReason: null\n    }),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    _useReducer2$ = _useReducer2[0],\n    _transient2 = _useReducer2$[\"transient\"],\n    errors = _useReducer2$.errors,\n    touched = _useReducer2$.touched,\n    names = _useReducer2$.names,\n    lastChangeReason = _useReducer2$.lastChangeReason,\n    dispatch = _useReducer2[1];\n\n  // Modified is true if any field contains a different value from the original item\n  var modified = !!Object.keys(_transient2).length;\n\n  // Pre compute the modified item for field function calls\n  var mergedItem = useMemo(function () {\n    return merge(item, _transient2, names);\n  }, [item, _transient2, names]);\n\n  // On form submit, call the super onSubmit function and prevent browser form submition\n  var onSubmit = useCallback(function (e) {\n    e.preventDefault();\n    if (Object.values(errors).some(function (x) {\n      return x;\n    })) {\n      // Should not happen as the form should prevent submit\n      window.alert(\"Please fix errors in the following fields: \".concat(Object.entries(errors)\n      // eslint-disable-next-line no-unused-vars\n      .filter(function (_ref4) {\n        var _ref5 = _slicedToArray(_ref4, 2);\n          _ref5[0];\n          var v = _ref5[1];\n        return v;\n      }).map(function (_ref6) {\n        var _ref7 = _slicedToArray(_ref6, 1),\n          k = _ref7[0];\n        return k;\n      }).join(', ')));\n      return;\n    }\n    var result = propagateSubmit === null || propagateSubmit === void 0 ? void 0 : propagateSubmit(merge(item, _transient2), merge({}, _transient2), mergedItem, names);\n    if (isPromise(result)) {\n      return new Promise(function (resolve, reject) {\n        result.then(function (asyncResult) {\n          dispatch({\n            type: 'submit',\n            result: asyncResult\n          });\n          resolve();\n        })[\"catch\"](reject);\n      });\n    }\n    dispatch({\n      type: 'submit',\n      result: result\n    });\n    return Promise.resolve();\n  }, [errors, _transient2, propagateSubmit, item, mergedItem, names]);\n\n  // On transient changes, call the super onChange\n  useEffect(function () {\n    if (propagateChange || propagateBlur && lastChangeReason === 'blur') {\n      var newItem = merge(item, _transient2);\n      var itemDiff = merge({}, _transient2);\n      var currentErrors = merge({}, Object.fromEntries(Object.entries(errors).filter(function (_ref8) {\n        var _ref9 = _slicedToArray(_ref8, 2),\n          v = _ref9[1];\n        return v;\n      })));\n      propagateChange && propagateChange(newItem, itemDiff, currentErrors, names);\n      propagateBlur && lastChangeReason === 'blur' && propagateBlur(newItem, itemDiff, currentErrors, names);\n    }\n\n    // We voluntarly omit everything except transient because it's only\n    // transient changes that should initiate onChange\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [_transient2, errors]);\n  var plant = useCallback(function (name) {\n    dispatch({\n      type: 'plant',\n      name: name\n    });\n  }, []);\n  var unplant = useCallback(function (name) {\n    dispatch({\n      type: 'unplant',\n      name: name\n    });\n  }, []);\n\n  // Update transient object on field change\n  // Fields must call this with the value (and not the event)\n  var onChange = useCallback(function (name, value) {\n    dispatch({\n      type: 'change',\n      name: name,\n      value: value,\n      itemValue: get(item, name),\n      reason: 'change'\n    });\n  }, [item]);\n\n  // Normalize value on blur\n  var onBlur = useCallback(function (name, value) {\n    dispatch({\n      type: 'blur',\n      name: name\n    });\n    var normalized = normalizer(value);\n    dispatch({\n      type: 'change',\n      name: name,\n      value: normalized,\n      itemValue: get(item, name),\n      reason: 'blur'\n    });\n  }, [item]);\n\n  // Update the error holder on value change\n  // Fields should call this functions when there's an error in the field\n  // value (and then with null when there's no more error).\n  var onError = useCallback(function (name, error) {\n    dispatch({\n      type: 'error',\n      name: name,\n      error: error\n    });\n  }, []);\n\n  // This function generate field props from a field name and corn options\n  var field = useCallback(function (name, customValidator, props) {\n    // customValidator is not required, field props can be passed as second arg\n    if (customValidator && typeof customValidator !== 'function' && !props) {\n      props = customValidator;\n      customValidator = null;\n    }\n\n    // If there is a transient entry for this field, it's modified\n    var modified = Object.keys(_transient2).includes(name);\n    // This field current value is stored in transient\n    var value = modified ? _transient2[name] : get(item, name);\n    // If there's an error, pass it\n    var error = touched.includes(name) ? errors[name] : null;\n    var dynamicProps = Object.entries(props || {}).reduce(function (acc, _ref10) {\n      var _ref11 = _slicedToArray(_ref10, 2),\n        k = _ref11[0],\n        v = _ref11[1];\n      acc[k] = typeof v === 'function' ? v(mergedItem) : v;\n      return acc;\n    }, {});\n    var customError = customValidator && customValidator(value, mergedItem, name);\n    return _objectSpread2({\n      name: name,\n      value: value,\n      modified: modified,\n      error: error,\n      customError: customError,\n      plant: plant,\n      unplant: unplant,\n      onChange: onChange,\n      onError: onError,\n      onBlur: onBlur\n    }, dynamicProps);\n  }, [_transient2, item, touched, errors, mergedItem, plant, unplant, onChange, onError, onBlur]);\n  var current = useCallback(function (getter) {\n    return getter(merge(item, _transient2));\n  }, [item, _transient2]);\n\n  // Reset the transient item to the orginal one, resetting all field to item values\n  var onReset = useCallback(function () {\n    dispatch({\n      type: 'reset'\n    });\n  }, []);\n\n  // When the item is externally modified, update the transient values\n  // We lose the pending changes here.\n  useEffect(function () {\n    dispatch({\n      type: 'reset'\n    });\n  }, [item]);\n  return {\n    form: {\n      method: method,\n      onSubmit: onSubmit\n    },\n    field: field,\n    current: current,\n    modified: modified,\n    onReset: onReset\n  };\n});\n\nexport { Checkbox, Color, Date$1 as Date, DatetimeLocal, Email, File, Hidden, Input, Money, Month, Number$1 as Number, Password, Picker, Radio, Range, Search, Select, Tel, Text, TextArea, Time, Url, VALUE_DELIMITER, Week, clone, cloneArray, emptyStringToNull, get, merge, noOp, nullishToEmptyString, update, useControlField, useCorn, useCornField, useMaybeMultipleValue, useOptions };\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","module","_iterableToArrayLimit","arr","i","_i","_s","_e","_x","_r","_arr","_n","_d","err","ownKeys","object","enumerableOnly","keys","symbols","sym","_objectSpread2","target","source","key","_defineProperty","_typeof","obj","value","_toPropertyKey","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","_slicedToArray","_arrayWithHoles","_unsupportedIterableToArray","_nonIterableRest","_toArray","_iterableToArray","_toConsumableArray","_arrayWithoutHoles","_nonIterableSpread","_arrayLikeToArray","iter","o","minLen","len","arr2","_toPrimitive","input","hint","prim","res","arg","useOptions","choices","options","useMemo","useMaybeMultipleValue","multiple","multipleValue","noOp","VALUE_DELIMITER","useControlField","name","checkboxType","props","_ref","_excluded$1","useCornField","type","customError","plant","unplant","onChange","onError","onBlur","elementRef","useRef","useEffect","handleChange","useCallback","handleBlur","_excluded","_excluded2","_excluded3","_excluded4","_excluded5","_excluded6","Input","memo","_ref$Component","Component","inputProps","jsx","Checkbox","Color","Date$1","DatetimeLocal","Email","avoidSpacesThatBreakReact","File","Hidden","Month","Password","Radio","Range","Search","Tel","Text","Time","Url","Week","Number$1","_ref2","v","Money","_ref3","_ref3$precision","precision","order","decimalLength","TextArea","Select","_ref4","selectProps","jsxs","_ref5","_ref6","_ref7","_ref8","label","Picker","_ref9","_ref9$Root","Root","_useCornField","ref","cornProps","controlProps","_ref10","_ref11","nullishToEmptyString","emptyStringToNull","get","data","pointer","part","update","_name$split","_name$split2","rest","cloneArray","array","clonedArray","cur","clone","cloned","merge","item","_transient","names","newItem","itemClone","normalizer","isPromise","reducer","state","action","errors","_state$transient","_action$name","_state$transient2","_action$name2","_state$errors","_action$name3","emptyItem","useCorn","_ref3$item","propagateChange","propagateBlur","propagateSubmit","_ref3$method","method","_useReducer","useReducer","_useReducer2","_useReducer2$","_transient2","touched","lastChangeReason","dispatch","modified","mergedItem","onSubmit","x","result","resolve","reject","asyncResult","itemDiff","currentErrors","normalized","error","field","customValidator","dynamicProps","acc","current","getter","onReset"],"mappings":"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"}