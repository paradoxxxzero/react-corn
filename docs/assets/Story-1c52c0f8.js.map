{"version":3,"file":"Story-1c52c0f8.js","sources":["../../node_modules/@mui/private-theming/ThemeProvider/nested.js","../../node_modules/@mui/private-theming/ThemeProvider/ThemeProvider.js","../../node_modules/@mui/system/esm/ThemeProvider/ThemeProvider.js","../../node_modules/react-simple-code-editor/lib/index.js","../../stories/helpers/StoryItem.jsx","../../stories/helpers/Story.jsx"],"sourcesContent":["const hasSymbol = typeof Symbol === 'function' && Symbol.for;\nexport default hasSymbol ? Symbol.for('mui.nested') : '__THEME_NESTED__';","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { exactProp } from '@mui/utils';\nimport ThemeContext from '../useTheme/ThemeContext';\nimport useTheme from '../useTheme';\nimport nested from './nested';\n\n// To support composition of theme.\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nfunction mergeOuterLocalTheme(outerTheme, localTheme) {\n  if (typeof localTheme === 'function') {\n    const mergedTheme = localTheme(outerTheme);\n    if (process.env.NODE_ENV !== 'production') {\n      if (!mergedTheme) {\n        console.error(['MUI: You should return an object from your theme function, i.e.', '<ThemeProvider theme={() => ({})} />'].join('\\n'));\n      }\n    }\n    return mergedTheme;\n  }\n  return _extends({}, outerTheme, localTheme);\n}\n\n/**\n * This component takes a `theme` prop.\n * It makes the `theme` available down the React tree thanks to React context.\n * This component should preferably be used at **the root of your component tree**.\n */\nfunction ThemeProvider(props) {\n  const {\n    children,\n    theme: localTheme\n  } = props;\n  const outerTheme = useTheme();\n  if (process.env.NODE_ENV !== 'production') {\n    if (outerTheme === null && typeof localTheme === 'function') {\n      console.error(['MUI: You are providing a theme function prop to the ThemeProvider component:', '<ThemeProvider theme={outerTheme => outerTheme} />', '', 'However, no outer theme is present.', 'Make sure a theme is already injected higher in the React tree ' + 'or provide a theme object.'].join('\\n'));\n    }\n  }\n  const theme = React.useMemo(() => {\n    const output = outerTheme === null ? localTheme : mergeOuterLocalTheme(outerTheme, localTheme);\n    if (output != null) {\n      output[nested] = outerTheme !== null;\n    }\n    return output;\n  }, [localTheme, outerTheme]);\n  return /*#__PURE__*/_jsx(ThemeContext.Provider, {\n    value: theme,\n    children: children\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? ThemeProvider.propTypes = {\n  /**\n   * Your component tree.\n   */\n  children: PropTypes.node,\n  /**\n   * A theme object. You can provide a function to extend the outer theme.\n   */\n  theme: PropTypes.oneOfType([PropTypes.object, PropTypes.func]).isRequired\n} : void 0;\nif (process.env.NODE_ENV !== 'production') {\n  process.env.NODE_ENV !== \"production\" ? ThemeProvider.propTypes = exactProp(ThemeProvider.propTypes) : void 0;\n}\nexport default ThemeProvider;","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeProvider as MuiThemeProvider } from '@mui/private-theming';\nimport { exactProp } from '@mui/utils';\nimport { ThemeContext as StyledEngineThemeContext } from '@mui/styled-engine';\nimport useTheme from '../useTheme';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst EMPTY_THEME = {};\nfunction InnerThemeProvider(props) {\n  const theme = useTheme();\n  return /*#__PURE__*/_jsx(StyledEngineThemeContext.Provider, {\n    value: typeof theme === 'object' ? theme : EMPTY_THEME,\n    children: props.children\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? InnerThemeProvider.propTypes = {\n  /**\n   * Your component tree.\n   */\n  children: PropTypes.node\n} : void 0;\n\n/**\n * This component makes the `theme` available down the React tree.\n * It should preferably be used at **the root of your component tree**.\n */\nfunction ThemeProvider(props) {\n  const {\n    children,\n    theme: localTheme\n  } = props;\n  return /*#__PURE__*/_jsx(MuiThemeProvider, {\n    theme: localTheme,\n    children: /*#__PURE__*/_jsx(InnerThemeProvider, {\n      children: children\n    })\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? ThemeProvider.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * Your component tree.\n   */\n  children: PropTypes.node,\n  /**\n   * A theme object. You can provide a function to extend the outer theme.\n   */\n  theme: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired\n} : void 0;\nif (process.env.NODE_ENV !== 'production') {\n  process.env.NODE_ENV !== \"production\" ? ThemeProvider.propTypes = exactProp(ThemeProvider.propTypes) : void 0;\n}\nexport default ThemeProvider;","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __importStar(require(\"react\"));\nvar KEYCODE_ENTER = 13;\nvar KEYCODE_TAB = 9;\nvar KEYCODE_BACKSPACE = 8;\nvar KEYCODE_Y = 89;\nvar KEYCODE_Z = 90;\nvar KEYCODE_M = 77;\nvar KEYCODE_PARENS = 57;\nvar KEYCODE_BRACKETS = 219;\nvar KEYCODE_QUOTE = 222;\nvar KEYCODE_BACK_QUOTE = 192;\nvar KEYCODE_ESCAPE = 27;\nvar HISTORY_LIMIT = 100;\nvar HISTORY_TIME_GAP = 3000;\nvar isWindows = typeof window !== 'undefined' &&\n    'navigator' in window &&\n    /Win/i.test(navigator.platform);\nvar isMacLike = typeof window !== 'undefined' &&\n    'navigator' in window &&\n    /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);\nvar className = 'npm__react-simple-code-editor__textarea';\nvar cssText = /* CSS */ \"\\n/**\\n * Reset the text fill color so that placeholder is visible\\n */\\n.\".concat(className, \":empty {\\n  -webkit-text-fill-color: inherit !important;\\n}\\n\\n/**\\n * Hack to apply on some CSS on IE10 and IE11\\n */\\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\\n  /**\\n    * IE doesn't support '-webkit-text-fill-color'\\n    * So we use 'color: transparent' to make the text transparent on IE\\n    * Unlike other browsers, it doesn't affect caret color in IE\\n    */\\n  .\").concat(className, \" {\\n    color: transparent !important;\\n  }\\n\\n  .\").concat(className, \"::selection {\\n    background-color: #accef7 !important;\\n    color: transparent !important;\\n  }\\n}\\n\");\nvar Editor = /** @class */ (function (_super) {\n    __extends(Editor, _super);\n    function Editor() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            capture: true,\n        };\n        _this._recordCurrentState = function () {\n            var input = _this._input;\n            if (!input)\n                return;\n            // Save current state of the input\n            var value = input.value, selectionStart = input.selectionStart, selectionEnd = input.selectionEnd;\n            _this._recordChange({\n                value: value,\n                selectionStart: selectionStart,\n                selectionEnd: selectionEnd,\n            });\n        };\n        _this._getLines = function (text, position) {\n            return text.substring(0, position).split('\\n');\n        };\n        _this._recordChange = function (record, overwrite) {\n            var _a, _b, _c;\n            if (overwrite === void 0) { overwrite = false; }\n            var _d = _this._history, stack = _d.stack, offset = _d.offset;\n            if (stack.length && offset > -1) {\n                // When something updates, drop the redo operations\n                _this._history.stack = stack.slice(0, offset + 1);\n                // Limit the number of operations to 100\n                var count = _this._history.stack.length;\n                if (count > HISTORY_LIMIT) {\n                    var extras = count - HISTORY_LIMIT;\n                    _this._history.stack = stack.slice(extras, count);\n                    _this._history.offset = Math.max(_this._history.offset - extras, 0);\n                }\n            }\n            var timestamp = Date.now();\n            if (overwrite) {\n                var last = _this._history.stack[_this._history.offset];\n                if (last && timestamp - last.timestamp < HISTORY_TIME_GAP) {\n                    // A previous entry exists and was in short interval\n                    // Match the last word in the line\n                    var re = /[^a-z0-9]([a-z0-9]+)$/i;\n                    // Get the previous line\n                    var previous = (_a = _this._getLines(last.value, last.selectionStart)\n                        .pop()) === null || _a === void 0 ? void 0 : _a.match(re);\n                    // Get the current line\n                    var current = (_b = _this._getLines(record.value, record.selectionStart)\n                        .pop()) === null || _b === void 0 ? void 0 : _b.match(re);\n                    if ((previous === null || previous === void 0 ? void 0 : previous[1]) && ((_c = current === null || current === void 0 ? void 0 : current[1]) === null || _c === void 0 ? void 0 : _c.startsWith(previous[1]))) {\n                        // The last word of the previous line and current line match\n                        // Overwrite previous entry so that undo will remove whole word\n                        _this._history.stack[_this._history.offset] = __assign(__assign({}, record), { timestamp: timestamp });\n                        return;\n                    }\n                }\n            }\n            // Add the new operation to the stack\n            _this._history.stack.push(__assign(__assign({}, record), { timestamp: timestamp }));\n            _this._history.offset++;\n        };\n        _this._updateInput = function (record) {\n            var input = _this._input;\n            if (!input)\n                return;\n            // Update values and selection state\n            input.value = record.value;\n            input.selectionStart = record.selectionStart;\n            input.selectionEnd = record.selectionEnd;\n            _this.props.onValueChange(record.value);\n        };\n        _this._applyEdits = function (record) {\n            // Save last selection state\n            var input = _this._input;\n            var last = _this._history.stack[_this._history.offset];\n            if (last && input) {\n                _this._history.stack[_this._history.offset] = __assign(__assign({}, last), { selectionStart: input.selectionStart, selectionEnd: input.selectionEnd });\n            }\n            // Save the changes\n            _this._recordChange(record);\n            _this._updateInput(record);\n        };\n        _this._undoEdit = function () {\n            var _a = _this._history, stack = _a.stack, offset = _a.offset;\n            // Get the previous edit\n            var record = stack[offset - 1];\n            if (record) {\n                // Apply the changes and update the offset\n                _this._updateInput(record);\n                _this._history.offset = Math.max(offset - 1, 0);\n            }\n        };\n        _this._redoEdit = function () {\n            var _a = _this._history, stack = _a.stack, offset = _a.offset;\n            // Get the next edit\n            var record = stack[offset + 1];\n            if (record) {\n                // Apply the changes and update the offset\n                _this._updateInput(record);\n                _this._history.offset = Math.min(offset + 1, stack.length - 1);\n            }\n        };\n        _this._handleKeyDown = function (e) {\n            var _a = _this.props, tabSize = _a.tabSize, insertSpaces = _a.insertSpaces, ignoreTabKey = _a.ignoreTabKey, onKeyDown = _a.onKeyDown;\n            if (onKeyDown) {\n                onKeyDown(e);\n                if (e.defaultPrevented) {\n                    return;\n                }\n            }\n            if (e.keyCode === KEYCODE_ESCAPE) {\n                e.currentTarget.blur();\n            }\n            var _b = e.currentTarget, value = _b.value, selectionStart = _b.selectionStart, selectionEnd = _b.selectionEnd;\n            var tabCharacter = (insertSpaces ? ' ' : '\\t').repeat(tabSize);\n            if (e.keyCode === KEYCODE_TAB && !ignoreTabKey && _this.state.capture) {\n                // Prevent focus change\n                e.preventDefault();\n                if (e.shiftKey) {\n                    // Unindent selected lines\n                    var linesBeforeCaret = _this._getLines(value, selectionStart);\n                    var startLine_1 = linesBeforeCaret.length - 1;\n                    var endLine_1 = _this._getLines(value, selectionEnd).length - 1;\n                    var nextValue = value\n                        .split('\\n')\n                        .map(function (line, i) {\n                        if (i >= startLine_1 &&\n                            i <= endLine_1 &&\n                            line.startsWith(tabCharacter)) {\n                            return line.substring(tabCharacter.length);\n                        }\n                        return line;\n                    })\n                        .join('\\n');\n                    if (value !== nextValue) {\n                        var startLineText = linesBeforeCaret[startLine_1];\n                        _this._applyEdits({\n                            value: nextValue,\n                            // Move the start cursor if first line in selection was modified\n                            // It was modified only if it started with a tab\n                            selectionStart: (startLineText === null || startLineText === void 0 ? void 0 : startLineText.startsWith(tabCharacter))\n                                ? selectionStart - tabCharacter.length\n                                : selectionStart,\n                            // Move the end cursor by total number of characters removed\n                            selectionEnd: selectionEnd - (value.length - nextValue.length),\n                        });\n                    }\n                }\n                else if (selectionStart !== selectionEnd) {\n                    // Indent selected lines\n                    var linesBeforeCaret = _this._getLines(value, selectionStart);\n                    var startLine_2 = linesBeforeCaret.length - 1;\n                    var endLine_2 = _this._getLines(value, selectionEnd).length - 1;\n                    var startLineText = linesBeforeCaret[startLine_2];\n                    _this._applyEdits({\n                        value: value\n                            .split('\\n')\n                            .map(function (line, i) {\n                            if (i >= startLine_2 && i <= endLine_2) {\n                                return tabCharacter + line;\n                            }\n                            return line;\n                        })\n                            .join('\\n'),\n                        // Move the start cursor by number of characters added in first line of selection\n                        // Don't move it if it there was no text before cursor\n                        selectionStart: startLineText && /\\S/.test(startLineText)\n                            ? selectionStart + tabCharacter.length\n                            : selectionStart,\n                        // Move the end cursor by total number of characters added\n                        selectionEnd: selectionEnd + tabCharacter.length * (endLine_2 - startLine_2 + 1),\n                    });\n                }\n                else {\n                    var updatedSelection = selectionStart + tabCharacter.length;\n                    _this._applyEdits({\n                        // Insert tab character at caret\n                        value: value.substring(0, selectionStart) +\n                            tabCharacter +\n                            value.substring(selectionEnd),\n                        // Update caret position\n                        selectionStart: updatedSelection,\n                        selectionEnd: updatedSelection,\n                    });\n                }\n            }\n            else if (e.keyCode === KEYCODE_BACKSPACE) {\n                var hasSelection = selectionStart !== selectionEnd;\n                var textBeforeCaret = value.substring(0, selectionStart);\n                if (textBeforeCaret.endsWith(tabCharacter) && !hasSelection) {\n                    // Prevent default delete behaviour\n                    e.preventDefault();\n                    var updatedSelection = selectionStart - tabCharacter.length;\n                    _this._applyEdits({\n                        // Remove tab character at caret\n                        value: value.substring(0, selectionStart - tabCharacter.length) +\n                            value.substring(selectionEnd),\n                        // Update caret position\n                        selectionStart: updatedSelection,\n                        selectionEnd: updatedSelection,\n                    });\n                }\n            }\n            else if (e.keyCode === KEYCODE_ENTER) {\n                // Ignore selections\n                if (selectionStart === selectionEnd) {\n                    // Get the current line\n                    var line = _this._getLines(value, selectionStart).pop();\n                    var matches = line === null || line === void 0 ? void 0 : line.match(/^\\s+/);\n                    if (matches === null || matches === void 0 ? void 0 : matches[0]) {\n                        e.preventDefault();\n                        // Preserve indentation on inserting a new line\n                        var indent = '\\n' + matches[0];\n                        var updatedSelection = selectionStart + indent.length;\n                        _this._applyEdits({\n                            // Insert indentation character at caret\n                            value: value.substring(0, selectionStart) +\n                                indent +\n                                value.substring(selectionEnd),\n                            // Update caret position\n                            selectionStart: updatedSelection,\n                            selectionEnd: updatedSelection,\n                        });\n                    }\n                }\n            }\n            else if (e.keyCode === KEYCODE_PARENS ||\n                e.keyCode === KEYCODE_BRACKETS ||\n                e.keyCode === KEYCODE_QUOTE ||\n                e.keyCode === KEYCODE_BACK_QUOTE) {\n                var chars = void 0;\n                if (e.keyCode === KEYCODE_PARENS && e.shiftKey) {\n                    chars = ['(', ')'];\n                }\n                else if (e.keyCode === KEYCODE_BRACKETS) {\n                    if (e.shiftKey) {\n                        chars = ['{', '}'];\n                    }\n                    else {\n                        chars = ['[', ']'];\n                    }\n                }\n                else if (e.keyCode === KEYCODE_QUOTE) {\n                    if (e.shiftKey) {\n                        chars = ['\"', '\"'];\n                    }\n                    else {\n                        chars = [\"'\", \"'\"];\n                    }\n                }\n                else if (e.keyCode === KEYCODE_BACK_QUOTE && !e.shiftKey) {\n                    chars = ['`', '`'];\n                }\n                // If text is selected, wrap them in the characters\n                if (selectionStart !== selectionEnd && chars) {\n                    e.preventDefault();\n                    _this._applyEdits({\n                        value: value.substring(0, selectionStart) +\n                            chars[0] +\n                            value.substring(selectionStart, selectionEnd) +\n                            chars[1] +\n                            value.substring(selectionEnd),\n                        // Update caret position\n                        selectionStart: selectionStart,\n                        selectionEnd: selectionEnd + 2,\n                    });\n                }\n            }\n            else if ((isMacLike\n                ? // Trigger undo with ⌘+Z on Mac\n                    e.metaKey && e.keyCode === KEYCODE_Z\n                : // Trigger undo with Ctrl+Z on other platforms\n                    e.ctrlKey && e.keyCode === KEYCODE_Z) &&\n                !e.shiftKey &&\n                !e.altKey) {\n                e.preventDefault();\n                _this._undoEdit();\n            }\n            else if ((isMacLike\n                ? // Trigger redo with ⌘+Shift+Z on Mac\n                    e.metaKey && e.keyCode === KEYCODE_Z && e.shiftKey\n                : isWindows\n                    ? // Trigger redo with Ctrl+Y on Windows\n                        e.ctrlKey && e.keyCode === KEYCODE_Y\n                    : // Trigger redo with Ctrl+Shift+Z on other platforms\n                        e.ctrlKey && e.keyCode === KEYCODE_Z && e.shiftKey) &&\n                !e.altKey) {\n                e.preventDefault();\n                _this._redoEdit();\n            }\n            else if (e.keyCode === KEYCODE_M &&\n                e.ctrlKey &&\n                (isMacLike ? e.shiftKey : true)) {\n                e.preventDefault();\n                // Toggle capturing tab key so users can focus away\n                _this.setState(function (state) { return ({\n                    capture: !state.capture,\n                }); });\n            }\n        };\n        _this._handleChange = function (e) {\n            var _a = e.currentTarget, value = _a.value, selectionStart = _a.selectionStart, selectionEnd = _a.selectionEnd;\n            _this._recordChange({\n                value: value,\n                selectionStart: selectionStart,\n                selectionEnd: selectionEnd,\n            }, true);\n            _this.props.onValueChange(value);\n        };\n        _this._history = {\n            stack: [],\n            offset: -1,\n        };\n        _this._input = null;\n        return _this;\n    }\n    Editor.prototype.componentDidMount = function () {\n        this._recordCurrentState();\n    };\n    Object.defineProperty(Editor.prototype, \"session\", {\n        get: function () {\n            return {\n                history: this._history,\n            };\n        },\n        set: function (session) {\n            this._history = session.history;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Editor.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, value = _a.value, style = _a.style, padding = _a.padding, highlight = _a.highlight, textareaId = _a.textareaId, textareaClassName = _a.textareaClassName, autoFocus = _a.autoFocus, disabled = _a.disabled, form = _a.form, maxLength = _a.maxLength, minLength = _a.minLength, name = _a.name, placeholder = _a.placeholder, readOnly = _a.readOnly, required = _a.required, onClick = _a.onClick, onFocus = _a.onFocus, onBlur = _a.onBlur, onKeyUp = _a.onKeyUp, \n        /* eslint-disable @typescript-eslint/no-unused-vars */\n        onKeyDown = _a.onKeyDown, onValueChange = _a.onValueChange, tabSize = _a.tabSize, insertSpaces = _a.insertSpaces, ignoreTabKey = _a.ignoreTabKey, \n        /* eslint-enable @typescript-eslint/no-unused-vars */\n        preClassName = _a.preClassName, rest = __rest(_a, [\"value\", \"style\", \"padding\", \"highlight\", \"textareaId\", \"textareaClassName\", \"autoFocus\", \"disabled\", \"form\", \"maxLength\", \"minLength\", \"name\", \"placeholder\", \"readOnly\", \"required\", \"onClick\", \"onFocus\", \"onBlur\", \"onKeyUp\", \"onKeyDown\", \"onValueChange\", \"tabSize\", \"insertSpaces\", \"ignoreTabKey\", \"preClassName\"]);\n        var contentStyle = {\n            paddingTop: typeof padding === 'object' ? padding.top : padding,\n            paddingRight: typeof padding === 'object' ? padding.right : padding,\n            paddingBottom: typeof padding === 'object' ? padding.bottom : padding,\n            paddingLeft: typeof padding === 'object' ? padding.left : padding,\n        };\n        var highlighted = highlight(value);\n        return (React.createElement(\"div\", __assign({}, rest, { style: __assign(__assign({}, styles.container), style) }),\n            React.createElement(\"pre\", __assign({ className: preClassName, \"aria-hidden\": \"true\", style: __assign(__assign(__assign({}, styles.editor), styles.highlight), contentStyle) }, (typeof highlighted === 'string'\n                ? { dangerouslySetInnerHTML: { __html: highlighted + '<br />' } }\n                : { children: highlighted }))),\n            React.createElement(\"textarea\", { ref: function (c) { return (_this._input = c); }, style: __assign(__assign(__assign({}, styles.editor), styles.textarea), contentStyle), className: className + (textareaClassName ? \" \".concat(textareaClassName) : ''), id: textareaId, value: value, onChange: this._handleChange, onKeyDown: this._handleKeyDown, onClick: onClick, onKeyUp: onKeyUp, onFocus: onFocus, onBlur: onBlur, disabled: disabled, form: form, maxLength: maxLength, minLength: minLength, name: name, placeholder: placeholder, readOnly: readOnly, required: required, autoFocus: autoFocus, autoCapitalize: \"off\", autoComplete: \"off\", autoCorrect: \"off\", spellCheck: false, \"data-gramm\": false }),\n            React.createElement(\"style\", { dangerouslySetInnerHTML: { __html: cssText } })));\n    };\n    Editor.defaultProps = {\n        tabSize: 2,\n        insertSpaces: true,\n        ignoreTabKey: false,\n        padding: 0,\n    };\n    return Editor;\n}(React.Component));\nexports.default = Editor;\nvar styles = {\n    container: {\n        position: 'relative',\n        textAlign: 'left',\n        boxSizing: 'border-box',\n        padding: 0,\n        overflow: 'hidden',\n    },\n    textarea: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        height: '100%',\n        width: '100%',\n        resize: 'none',\n        color: 'inherit',\n        overflow: 'hidden',\n        MozOsxFontSmoothing: 'grayscale',\n        WebkitFontSmoothing: 'antialiased',\n        WebkitTextFillColor: 'transparent',\n    },\n    highlight: {\n        position: 'relative',\n        pointerEvents: 'none',\n    },\n    editor: {\n        margin: 0,\n        border: 0,\n        background: 'none',\n        boxSizing: 'inherit',\n        display: 'inherit',\n        fontFamily: 'inherit',\n        fontSize: 'inherit',\n        fontStyle: 'inherit',\n        fontVariantLigatures: 'inherit',\n        fontWeight: 'inherit',\n        letterSpacing: 'inherit',\n        lineHeight: 'inherit',\n        tabSize: 'inherit',\n        textIndent: 'inherit',\n        textRendering: 'inherit',\n        textTransform: 'inherit',\n        whiteSpace: 'pre-wrap',\n        wordBreak: 'keep-all',\n        overflowWrap: 'break-word',\n    },\n};\n//# sourceMappingURL=index.js.map","import { useCallback, useEffect, useState } from 'react'\nimport Editor from 'react-simple-code-editor'\nimport styled from 'styled-components'\nimport { highlight } from './highlight'\n\nconst Objects = styled.aside`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  max-width: 400px;\n`\n\nconst ObjectWithTitle = styled.label`\n  flex: 1;\n  margin: 0.5em;\n`\n\nconst EditorContainer = styled.div`\n  padding: 0.5em;\n  color: ${props => (props.syntaxError ? 'red' : 'black')};\n  background-color: ${props =>\n    props.syntaxError ? 'rgba(255, 0, 0, 0.025)' : 'inherit'};\n\n  border: ${props => (props.editable ? '1px solid hsl(0,0%,50%)' : 'none')};\n  font-family: 'Fira Code', monospace;\n  font-size: 13px;\n\n  textarea {\n    outline: none;\n  }\n`\n\nconst Title = styled.h4`\n  margin: 0.25em;\n`\n\nconst Mute = styled.small`\n  color: rgba(0, 0, 0, 0.2);\n`\n\nconst highlightJson = code => highlight(code, 'json')\n\nconst Object = ({ item, onItemEdited, children }) => {\n  const [strItem, setStrItem] = useState(prettyJson(item))\n  const [syntaxError, setSyntaxError] = useState(false)\n\n  useEffect(() => {\n    setStrItem(oldStr => {\n      const newStr = prettyJson(item)\n\n      if (newStr !== prettyJson(JSON.parse(oldStr))) {\n        return newStr\n      }\n\n      return oldStr\n    })\n  }, [item])\n\n  useEffect(() => {\n    if (!onItemEdited) {\n      return\n    }\n    try {\n      const parsed = JSON.parse(strItem)\n      setSyntaxError(false)\n      onItemEdited(parsed)\n    } catch (e) {\n      setSyntaxError(true)\n    }\n  }, [onItemEdited, strItem])\n\n  const reprettify = useCallback(() => {\n    setStrItem(oldStr => {\n      return prettyJson(JSON.parse(oldStr))\n    })\n  }, [])\n  return (\n    <ObjectWithTitle syntaxError={syntaxError}>\n      <Title>\n        {children}\n        {onItemEdited && (\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            width=\"24\"\n            style={{ float: 'right' }}\n          >\n            <path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\" />\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n          </svg>\n        )}\n      </Title>\n      <EditorContainer syntaxError={syntaxError} editable={!!onItemEdited}>\n        <Editor\n          readOnly={!onItemEdited}\n          value={strItem}\n          onValueChange={setStrItem}\n          onBlur={reprettify}\n          highlight={highlightJson}\n        />\n      </EditorContainer>\n    </ObjectWithTitle>\n  )\n}\n\nexport const prettyJson = json => JSON.stringify(json, null, 2)\nexport default function StoryItem({\n  item,\n  transient,\n  delta,\n  errors,\n  onItemEdited,\n}) {\n  return (\n    <Objects>\n      <Object item={transient}>\n        Transient item <Mute>(onChange)</Mute>\n      </Object>\n      <Object item={item} onItemEdited={onItemEdited}>\n        Item <Mute>(onSubmit)</Mute>\n      </Object>\n      <Object item={delta}>\n        Delta <Mute>(onSubmit)</Mute>\n      </Object>\n      <Object item={errors}>\n        Current errors <Mute>(onChange)</Mute>\n      </Object>\n    </Objects>\n  )\n}\n","import { createTheme, ThemeProvider } from '@mui/material/styles'\nimport { useCallback, useRef, useState } from 'react';\nimport styled from 'styled-components'\nimport StoryItem from './StoryItem'\n\nfunction debounce(fn, wait) {\n  let t\n  return function () {\n    clearTimeout(t)\n    t = setTimeout(() => fn.apply(this, arguments), wait)\n  }\n}\n\nconst useDebouncedState = (initial, wait = 50) => {\n  const setStateDebouncedRef = useRef()\n  const currentWaitRef = useRef(wait)\n  const [state, setState] = useState(initial)\n\n  if (!setStateDebouncedRef.current || currentWaitRef.current !== wait) {\n    setStateDebouncedRef.current = debounce(setState, wait)\n  }\n\n  return [state, setStateDebouncedRef.current]\n}\n\nconst Root = styled.div`\n  font-family: 'Nunito', sans-serif;\n  display: flex;\n  min-height: 100%;\n\n  form {\n    flex: 1;\n  }\n`\nexport const Divider = styled.hr`\n  border-color: hsla(0, 50%, 50%, 0.1);\n`\n\nconst theme = createTheme()\nexport const Story = ({ Chapter, initialItem }) => {\n  const [item, setItem] = useState(initialItem || {})\n  const [transient, setTransient] = useDebouncedState({})\n  const [delta, setDelta] = useState({})\n  const [errors, setErrors] = useState({})\n\n  const handleItemEdited = useCallback(it => {\n    setItem(it)\n  }, [])\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Root>\n        <Chapter\n          item={item}\n          onItem={setItem}\n          onTransient={setTransient}\n          onDelta={setDelta}\n          onErrors={setErrors}\n        />\n        <Divider />\n        <StoryItem\n          item={item}\n          transient={transient}\n          delta={delta}\n          errors={errors}\n          onItemEdited={handleItemEdited}\n        />\n      </Root>\n    </ThemeProvider>\n  )\n}\n"],"names":["hasSymbol","nested","mergeOuterLocalTheme","outerTheme","localTheme","_extends","ThemeProvider","props","children","useTheme","theme","React.useMemo","output","_jsx","ThemeContext","EMPTY_THEME","InnerThemeProvider","StyledEngineThemeContext","MuiThemeProvider","__extends","this","extendStatics","d","b","p","__","__assign","t","s","i","n","__createBinding","o","m","k","k2","desc","__setModuleDefault","v","__importStar","mod","result","__rest","e","lib","React","require$$0","KEYCODE_ENTER","KEYCODE_TAB","KEYCODE_BACKSPACE","KEYCODE_Y","KEYCODE_Z","KEYCODE_M","KEYCODE_PARENS","KEYCODE_BRACKETS","KEYCODE_QUOTE","KEYCODE_BACK_QUOTE","KEYCODE_ESCAPE","HISTORY_LIMIT","HISTORY_TIME_GAP","isWindows","isMacLike","className","cssText","Editor","_super","_this","input","value","selectionStart","selectionEnd","text","position","record","overwrite","_a","_b","_c","_d","stack","offset","count","extras","timestamp","last","re","previous","current","tabSize","insertSpaces","ignoreTabKey","onKeyDown","tabCharacter","linesBeforeCaret","startLine_1","endLine_1","nextValue","line","startLineText","startLine_2","endLine_2","updatedSelection","hasSelection","textBeforeCaret","matches","indent","chars","state","session","style","padding","highlight","textareaId","textareaClassName","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","preClassName","rest","contentStyle","highlighted","styles","c","_default","Objects","styled","ObjectWithTitle","EditorContainer","Title","Mute","highlightJson","code","Object","item","onItemEdited","strItem","setStrItem","useState","prettyJson","syntaxError","setSyntaxError","useEffect","oldStr","newStr","parsed","reprettify","useCallback","jsxs","jsx","json","StoryItem","transient","delta","errors","debounce","fn","wait","useDebouncedState","initial","setStateDebouncedRef","useRef","currentWaitRef","setState","Root","Divider","createTheme","Story","Chapter","initialItem","setItem","setTransient","setDelta","setErrors","handleItemEdited","it"],"mappings":"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"}